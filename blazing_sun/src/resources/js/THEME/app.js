(function(){"use strict";function f(){const d=document.querySelector('meta[name="csrf-token"]');return d?d.getAttribute("content"):(console.warn('CSRF token not found. Ensure <meta name="csrf-token"> exists in page head.'),null)}function c(d={}){const e=f(),t={"Content-Type":"application/json",...d};return e&&(t["X-CSRF-TOKEN"]=e),t}class B{constructor(e){this.baseUrl=e.baseUrl||"",this.showToast=e.showToast||console.log,this.getAuthToken=e.getAuthToken||(()=>null),this.tabButtons=e.tabButtons,this.tabPanels=e.tabPanels,this.logoSelector=e.logoSelector,this.logoPreview=e.logoPreview,this.logoPlaceholder=e.logoPlaceholder,this.faviconSelector=e.faviconSelector,this.faviconPreview=e.faviconPreview,this.faviconPlaceholder=e.faviconPlaceholder,this.lightColorsContainer=e.lightColorsContainer,this.darkColorsContainer=e.darkColorsContainer,this.typographyContainer=e.typographyContainer,this.spacingContainer=e.spacingContainer,this.borderRadiusContainer=e.borderRadiusContainer,this.themeModeToggle=e.themeModeToggle,this.lightColorsSection=document.getElementById("lightColors"),this.darkColorsSection=document.getElementById("darkColors"),this.buildBtn=e.buildBtn,this.buildOverlay=e.buildOverlay,this.buildStatus=e.buildStatus,this.buildProgress=e.buildProgress,this.imageModal=e.imageModal,this.imageModalTitle=e.imageModalTitle,this.imageGrid=e.imageGrid,this.imageFileInput=e.imageFileInput,this.removeImageBtn=e.removeImageBtn,this.schemaModal=e.schemaModal,this.schemaModalTitle=e.schemaModalTitle,this.schemaTypeSelect=e.schemaTypeSelect,this.schemaTypeDescription=e.schemaTypeDescription,this.schemaFields=e.schemaFields,this.schemaPreview=e.schemaPreview,this.schemaPreviewCode=e.schemaPreviewCode,this.saveSchemaBtn=e.saveSchemaBtn,this.togglePreviewBtn=e.togglePreviewBtn,this.addSchemaBtn=e.addSchemaBtn,this.schemasList=e.schemasList,this.schemasEmpty=e.schemasEmpty,this.ColorPicker=e.ColorPicker,this.SizePicker=e.SizePicker,this.SchemaDefinitions=e.SchemaDefinitions,this.originalConfig=null,this.currentConfig=null,this.colorPickers=[],this.sizePickers=[],this.hasUnsavedChanges=!1,this.isBuilding=!1,this.currentImageTarget=null,this.logoUuid=null,this.faviconUuid=null,this.logoStorageType="public",this.faviconStorageType="public",this.seoPages=[],this.currentSeoPage=null,this.seoFormElements=null,this.currentSchemaType=null,this.editingSchemaId=null,this.pageSchemas=[],this.siteName="Blazing Sun",this.showSiteName=!0,this.identityColorStart="#3498db",this.identityColorEnd="#764ba2",this.identitySize="1.375rem",this.domColorPickers=[],this.domAnglePickers=[],this.scssVariables={typography:[{name:"font-size-base",label:"Base Font Size",unit:"rem",min:.75,max:1.5,step:.0625},{name:"font-size-sm",label:"Small Font Size",unit:"rem",min:.5,max:1.25,step:.0625},{name:"font-size-lg",label:"Large Font Size",unit:"rem",min:1,max:2,step:.0625},{name:"font-size-xl",label:"Extra Large Font Size",unit:"rem",min:1.25,max:3,step:.125},{name:"font-size-2xl",label:"2X Large Font Size",unit:"rem",min:1.5,max:4,step:.125},{name:"font-size-3xl",label:"3X Large Font Size",unit:"rem",min:2,max:5,step:.25}],spacing:[{name:"spacing-xs",label:"Extra Small",unit:"rem",min:.125,max:.5,step:.0625},{name:"spacing-sm",label:"Small",unit:"rem",min:.25,max:1,step:.125},{name:"spacing-md",label:"Medium",unit:"rem",min:.5,max:1.5,step:.125},{name:"spacing-lg",label:"Large",unit:"rem",min:1,max:2.5,step:.25},{name:"spacing-xl",label:"Extra Large",unit:"rem",min:1.5,max:4,step:.25},{name:"spacing-2xl",label:"2X Large",unit:"rem",min:2,max:6,step:.5}],borderRadius:[{name:"radius-sm",label:"Small Radius",unit:"rem",min:0,max:1,step:.0625},{name:"radius-md",label:"Medium Radius",unit:"rem",min:0,max:1.5,step:.125},{name:"radius-lg",label:"Large Radius",unit:"rem",min:0,max:2,step:.125},{name:"radius-xl",label:"Extra Large Radius",unit:"rem",min:0,max:3,step:.25}],colors:[{name:"color-primary",label:"Primary Color",type:"color"},{name:"color-primary-dark",label:"Primary Dark",type:"color"},{name:"color-secondary",label:"Secondary Color",type:"color"}]},this.init()}async init(){console.log("ThemeConfig.init() starting..."),this.setupTabs(),this.setupThemeModeToggle(),this.setupActionButtons(),this.setupImageModal(),this.setupSchemaModal(),this.setupImageSelectors(),this.setupIdentity(),this.setupBeforeUnload(),this.setupSEO(),this.initializeDomColorPickers(),this.initializeDomAnglePickers(),this.initializeDomSizePickers(),console.log("Loading config..."),await this.loadConfig(),console.log("ThemeConfig.init() completed")}setupTabs(){this.tabButtons&&this.tabButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.tab;this.switchTab(t)})})}setupThemeModeToggle(){if(!this.themeModeToggle)return;this.themeModeToggle.querySelectorAll(".theme-mode-toggle__btn").forEach(t=>{t.addEventListener("click",()=>{const a=t.dataset.mode;this.switchThemeMode(a)})})}switchThemeMode(e){if(!this.themeModeToggle)return;this.themeModeToggle.querySelectorAll(".theme-mode-toggle__btn").forEach(a=>{const i=a.dataset.mode===e;a.classList.toggle("theme-mode-toggle__btn--active",i)}),this.lightColorsSection&&this.darkColorsSection&&(e==="light"?(this.lightColorsSection.removeAttribute("hidden"),this.darkColorsSection.setAttribute("hidden","")):(this.lightColorsSection.setAttribute("hidden",""),this.darkColorsSection.removeAttribute("hidden")))}switchTab(e){this.tabButtons.forEach(t=>{const a=t.dataset.tab===e;t.classList.toggle("theme-tabs__tab--active",a),t.setAttribute("aria-selected",a)}),this.tabPanels.forEach(t=>{const a=t.id===`panel-${e}`;t.classList.toggle("theme-panel--active",a),a?t.removeAttribute("hidden"):t.setAttribute("hidden","")})}setupActionButtons(){this.buildBtn&&this.buildBtn.addEventListener("click",()=>this.triggerBuild());const e=document.getElementById("brandingSaveBtn");e&&e.addEventListener("click",()=>this.saveBranding(e));const t=document.getElementById("colorsSaveBtn");t&&t.addEventListener("click",()=>this.saveColors(t));const a=document.getElementById("typographySaveBtn");a&&a.addEventListener("click",()=>this.saveTypography(a));const i=document.getElementById("spacingSaveBtn");i&&i.addEventListener("click",()=>this.saveSpacing(i))}setupImageModal(){this.imageModal&&(this.imageModal.addEventListener("click",e=>{(e.target===this.imageModal||e.target.closest('[data-action="close"]'))&&this.closeImageModal()}),this.imageFileInput&&this.imageFileInput.addEventListener("change",e=>this.handleImageUpload(e)),this.removeImageBtn&&this.removeImageBtn.addEventListener("click",()=>{this.removeCurrentImage(),this.closeImageModal()}))}setupSchemaModal(){this.schemaModal&&(this.schemaModal.addEventListener("click",e=>{(e.target===this.schemaModal||e.target.closest('[data-action="close"]'))&&this.closeSchemaModal()}),this.schemaTypeSelect&&this.SchemaDefinitions&&this.populateSchemaTypeSelect(),this.schemaTypeSelect&&this.schemaTypeSelect.addEventListener("change",e=>{this.onSchemaTypeChange(e.target.value)}),this.saveSchemaBtn&&this.saveSchemaBtn.addEventListener("click",()=>this.saveCurrentSchema()),this.togglePreviewBtn&&this.togglePreviewBtn.addEventListener("click",()=>this.toggleSchemaPreview()),this.addSchemaBtn&&this.addSchemaBtn.addEventListener("click",()=>this.openSchemaModal()))}populateSchemaTypeSelect(){if(!this.schemaTypeSelect||!this.SchemaDefinitions)return;const{SCHEMA_CATEGORIES:e,SCHEMA_TYPES:t}=this.SchemaDefinitions;for(;this.schemaTypeSelect.options.length>1;)this.schemaTypeSelect.remove(1);const a={};t.forEach(i=>{a[i.category]||(a[i.category]=[]),a[i.category].push(i)}),Object.entries(e).forEach(([i,s])=>{const l=a[i];if(!l||l.length===0)return;const n=document.createElement("optgroup");n.label=s.label,l.forEach(r=>{const o=document.createElement("option");o.value=r.type,o.textContent=r.label,o.dataset.description=r.description,n.appendChild(o)}),this.schemaTypeSelect.appendChild(n)})}onSchemaTypeChange(e){if(!e){this.currentSchemaType=null,this.schemaFields&&this.schemaFields.classList.add("hidden"),this.schemaPreview&&this.schemaPreview.classList.add("hidden"),this.saveSchemaBtn&&(this.saveSchemaBtn.disabled=!0),this.schemaTypeDescription&&(this.schemaTypeDescription.textContent="Select a schema type to configure structured data");return}const t=this.SchemaDefinitions.getSchemaType(e);if(!t){this.showToast("Schema type not found","error");return}this.currentSchemaType=e,this.schemaTypeDescription&&(this.schemaTypeDescription.textContent=t.description),this.generateSchemaFields(t),this.schemaFields&&this.schemaFields.classList.remove("hidden"),this.schemaPreview&&this.schemaPreview.classList.remove("hidden"),this.updateSchemaPreview(),this.saveSchemaBtn&&(this.saveSchemaBtn.disabled=!1)}generateSchemaFields(e){this.schemaFields&&(this.schemaFields.innerHTML="",e.fields.forEach(t=>{if(t.type==="hidden")return;const a=this.generateFieldHtml(t);this.schemaFields.insertAdjacentHTML("beforeend",a)}),this.setupSchemaFieldListeners())}generateFieldHtml(e,t=""){const a=t?`${t}_${e.name}`:`schema_${e.name}`,i=e.required?"form-group--required":"",s=e.placeholder||"",l=e.help||"";let n="";switch(e.type){case"text":case"url":case"email":case"tel":n=`<input type="${e.type}" id="${a}" class="form-input schema-field"
          data-field="${e.name}" placeholder="${s}">`;break;case"number":n=`<input type="number" id="${a}" class="form-input schema-field"
          data-field="${e.name}" placeholder="${s}" step="any">`;break;case"date":n=`<input type="date" id="${a}" class="form-input schema-field"
          data-field="${e.name}">`;break;case"datetime":n=`<input type="datetime-local" id="${a}" class="form-input schema-field"
          data-field="${e.name}">`;break;case"textarea":n=`<textarea id="${a}" class="form-textarea schema-field"
          data-field="${e.name}" rows="3" placeholder="${s}"></textarea>`;break;case"select":const r=(e.options||[]).map(o=>`<option value="${o.value}">${o.label}</option>`).join("");n=`<select id="${a}" class="form-select schema-field" data-field="${e.name}">
          <option value="">-- Select --</option>
          ${r}
        </select>`;break;case"boolean":n=`
          <label class="checkbox-label">
            <input type="checkbox" id="${a}" class="form-checkbox schema-field"
              data-field="${e.name}">
            <span>${e.label}</span>
          </label>`;break;case"array":n=this.generateArrayFieldHtml(e,a);break;case"nested":n=this.generateNestedFieldHtml(e,a);break;default:n=`<input type="text" id="${a}" class="form-input schema-field"
          data-field="${e.name}" placeholder="${s}">`}return e.type==="boolean"?`<div class="form-group ${i}">${n}</div>`:`
      <div class="form-group ${i}">
        <label for="${a}" class="form-label">${e.label}</label>
        ${n}
        ${l?`<p class="form-help">${l}</p>`:""}
      </div>
    `}generateArrayFieldHtml(e,t){return`
      <div class="schema-array" data-field="${e.name}" data-item-type="${e.itemType||"text"}">
        <div class="schema-array__header">
          <span class="schema-array__title">${e.label}</span>
        </div>
        <div class="schema-array__items" id="${t}_items">
          <!-- Items added dynamically -->
        </div>
        <button type="button" class="schema-array__add" data-array="${t}">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          Add Item
        </button>
      </div>
    `}generateNestedFieldHtml(e,t){const i=(e.fields||[]).filter(s=>s.type!=="hidden").map(s=>this.generateFieldHtml(s,t)).join("");return`
      <div class="schema-nested" data-field="${e.name}" data-schema="${e.schema||""}">
        <div class="schema-nested__header">
          <span class="schema-nested__title">${e.label}</span>
        </div>
        <div class="schema-nested__fields">
          ${i}
        </div>
      </div>
    `}setupSchemaFieldListeners(){this.schemaFields&&(this.schemaFields.addEventListener("input",()=>{this.updateSchemaPreview()}),this.schemaFields.addEventListener("change",()=>{this.updateSchemaPreview()}),this.schemaFields.querySelectorAll(".schema-array__add").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.array;this.addArrayItem(t)})}))}addArrayItem(e){var r;const t=document.getElementById(`${e}_items`),a=t==null?void 0:t.closest(".schema-array");if(!t||!a)return;a.dataset.itemType;const i=t.children.length,s=`${e}_item_${i}`,l=`
      <div class="schema-array__item" data-index="${i}">
        <input type="text" id="${s}" class="form-input schema-array-item" placeholder="Enter value...">
        <button type="button" class="schema-array__remove" data-remove="${s}">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
    `;t.insertAdjacentHTML("beforeend",l);const n=t.querySelector(`[data-remove="${s}"]`);n&&n.addEventListener("click",()=>{var o;(o=n.closest(".schema-array__item"))==null||o.remove(),this.updateSchemaPreview()}),(r=document.getElementById(s))==null||r.focus(),this.updateSchemaPreview()}collectSchemaData(){if(!this.schemaFields||!this.currentSchemaType)return null;const e={};return this.schemaFields.querySelectorAll(".schema-field").forEach(t=>{const a=t.dataset.field;if(!a)return;let i;t.type==="checkbox"?i=t.checked:t.type==="number"?i=t.value?parseFloat(t.value):null:i=t.value.trim(),i!==null&&i!==""&&i!==!1&&(e[a]=i)}),this.schemaFields.querySelectorAll(".schema-array").forEach(t=>{const a=t.dataset.field;if(!a)return;const i=[];t.querySelectorAll(".schema-array-item").forEach(s=>{const l=s.value.trim();l&&i.push(l)}),i.length>0&&(e[a]=i)}),this.schemaFields.querySelectorAll(".schema-nested").forEach(t=>{const a=t.dataset.field,i=t.dataset.schema;if(!a)return;const s={};i&&(s["@type"]=i),t.querySelectorAll(".schema-field").forEach(l=>{const n=l.dataset.field;if(!n)return;let r;l.type==="checkbox"?r=l.checked:l.type==="number"?r=l.value?parseFloat(l.value):null:r=l.value.trim(),r!==null&&r!==""&&r!==!1&&(s[n]=r)}),Object.keys(s).length>1&&(e[a]=s)}),e}updateSchemaPreview(){if(!this.schemaPreviewCode||!this.currentSchemaType)return;const e=this.collectSchemaData(),t=this.SchemaDefinitions.buildJsonLd(this.currentSchemaType,e||{});this.schemaPreviewCode.textContent=JSON.stringify(t,null,2)}toggleSchemaPreview(){if(!this.schemaPreview)return;const e=this.schemaPreview.querySelector(".schema-preview__code");if(e&&e.classList.toggle("hidden"),this.togglePreviewBtn){const t=this.togglePreviewBtn.querySelector("svg");t&&(t.style.transform=e!=null&&e.classList.contains("hidden")?"rotate(-90deg)":"")}}closeSchemaModal(){this.schemaModal&&this.schemaModal.classList.add("hidden"),this.resetSchemaModal()}resetSchemaModal(){this.currentSchemaType=null,this.editingSchemaId=null,this.schemaTypeSelect&&(this.schemaTypeSelect.value=""),this.schemaFields&&(this.schemaFields.innerHTML="",this.schemaFields.classList.add("hidden")),this.schemaPreview&&this.schemaPreview.classList.add("hidden"),this.schemaPreviewCode&&(this.schemaPreviewCode.textContent="{}"),this.saveSchemaBtn&&(this.saveSchemaBtn.disabled=!0),this.schemaTypeDescription&&(this.schemaTypeDescription.textContent="Select a schema type to configure structured data"),this.schemaModalTitle&&(this.schemaModalTitle.textContent="Add Schema")}async saveCurrentSchema(){if(!this.currentSchemaType||!this.currentSeoPage){this.showToast("Please select a schema type and SEO page first","error");return}const e=this.collectSchemaData();if(!e||Object.keys(e).length===0){this.showToast("Please fill in at least one field","error");return}const t=this.SchemaDefinitions.buildJsonLd(this.currentSchemaType,e);try{const a=this.editingSchemaId?`${this.baseUrl}/api/v1/admin/seo/schema/${this.editingSchemaId}`:`${this.baseUrl}/api/v1/admin/seo/page/${this.currentSeoPage.id}/schemas`,i=this.editingSchemaId?"PUT":"POST",s=await fetch(a,{method:i,headers:c(),credentials:"include",body:JSON.stringify({schema_type:this.currentSchemaType,schema_data:t,is_active:!0})});if(!s.ok)throw new Error("Failed to save schema");const l=await s.json();if(l.status==="success")this.showToast(this.editingSchemaId?"Schema updated":"Schema added","success"),this.closeSchemaModal(),this.loadPageSchemas(this.currentSeoPage.id);else throw new Error(l.message||"Unknown error")}catch(a){console.error("Save schema error:",a),this.showToast(`Failed to save schema: ${a.message}`,"error")}}async loadPageSchemas(e){try{const t=await fetch(`${this.baseUrl}/api/v1/admin/seo/page/${e}/schemas`,{headers:c(),credentials:"include"});if(!t.ok)throw new Error("Failed to load schemas");const a=await t.json();a.status==="success"&&(this.pageSchemas=a.schemas||[],this.renderSchemasList())}catch(t){console.error("Load schemas error:",t),this.pageSchemas=[],this.renderSchemasList()}}renderSchemasList(){if(this.schemasList){if(this.schemasList.querySelectorAll(".schema-card").forEach(e=>e.remove()),this.pageSchemas.length===0){this.schemasEmpty&&this.schemasEmpty.classList.remove("hidden");return}this.schemasEmpty&&this.schemasEmpty.classList.add("hidden"),this.pageSchemas.forEach(e=>{var l,n,r;const t=(l=this.SchemaDefinitions)==null?void 0:l.getSchemaType(e.schema_type),a=(t==null?void 0:t.label)||e.schema_type,i=((n=e.schema_data)==null?void 0:n.name)||((r=e.schema_data)==null?void 0:r.title)||(t==null?void 0:t.description)||"",s=`
        <div class="schema-card ${e.is_active?"":"schema-card--inactive"}" data-schema-id="${e.id}">
          <div class="schema-card__icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="16 18 22 12 16 6"></polyline>
              <polyline points="8 6 2 12 8 18"></polyline>
            </svg>
          </div>
          <div class="schema-card__content">
            <div class="schema-card__type">${a}</div>
            <div class="schema-card__description">${i}</div>
          </div>
          <div class="schema-card__actions">
            <button type="button" class="schema-card__btn" data-action="edit" title="Edit schema">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
              </svg>
            </button>
            <button type="button" class="schema-card__btn schema-card__btn--danger" data-action="delete" title="Delete schema">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
              </svg>
            </button>
          </div>
        </div>
      `;this.schemasList.insertAdjacentHTML("beforeend",s)}),this.schemasList.querySelectorAll(".schema-card").forEach(e=>{var a,i;const t=e.dataset.schemaId;(a=e.querySelector('[data-action="edit"]'))==null||a.addEventListener("click",()=>{this.editSchema(t)}),(i=e.querySelector('[data-action="delete"]'))==null||i.addEventListener("click",()=>{this.deleteSchema(t)})})}}editSchema(e){const t=this.pageSchemas.find(a=>String(a.id)===String(e));if(!t){this.showToast("Schema not found","error");return}this.editingSchemaId=e,this.openSchemaModal(t)}async deleteSchema(e){if(confirm("Are you sure you want to delete this schema?"))try{if(!(await fetch(`${this.baseUrl}/api/v1/admin/seo/schema/${e}`,{method:"DELETE",headers:c(),credentials:"include"})).ok)throw new Error("Failed to delete schema");this.showToast("Schema deleted","success"),this.loadPageSchemas(this.currentSeoPage.id)}catch(t){console.error("Delete schema error:",t),this.showToast(`Failed to delete schema: ${t.message}`,"error")}}setupImageSelectors(){this.logoSelector&&(this.logoSelector.addEventListener("click",()=>this.openImageModal("logo")),this.logoSelector.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.openImageModal("logo"))})),this.faviconSelector&&(this.faviconSelector.addEventListener("click",()=>this.openImageModal("favicon")),this.faviconSelector.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.openImageModal("favicon"))}))}setupIdentity(){this.identityElements={siteName:document.getElementById("siteName"),showSiteName:document.getElementById("showSiteName"),colorStart:document.getElementById("identityColorStart"),colorStartHex:document.getElementById("identityColorStartHex"),colorEnd:document.getElementById("identityColorEnd"),colorEndHex:document.getElementById("identityColorEndHex"),sizeRange:document.getElementById("identitySizeRange"),sizeValue:document.getElementById("identitySizeValue"),previewText:document.getElementById("identityPreviewText")};const e=this.identityElements;e.siteName&&e.siteName.addEventListener("input",()=>{this.siteName=e.siteName.value||"Blazing Sun",this.updateIdentityPreview(),this.markUnsaved()}),e.showSiteName&&e.showSiteName.addEventListener("change",()=>{this.showSiteName=e.showSiteName.checked,this.updateIdentityPreview(),this.markUnsaved()}),e.colorStart&&e.colorStartHex&&(e.colorStart.addEventListener("input",()=>{this.identityColorStart=e.colorStart.value,e.colorStartHex.value=e.colorStart.value,this.updateIdentityPreview(),this.markUnsaved()}),e.colorStartHex.addEventListener("input",()=>{const t=e.colorStartHex.value;/^#[0-9A-Fa-f]{6}$/.test(t)&&(this.identityColorStart=t,e.colorStart.value=t,this.updateIdentityPreview(),this.markUnsaved())})),e.colorEnd&&e.colorEndHex&&(e.colorEnd.addEventListener("input",()=>{this.identityColorEnd=e.colorEnd.value,e.colorEndHex.value=e.colorEnd.value,this.updateIdentityPreview(),this.markUnsaved()}),e.colorEndHex.addEventListener("input",()=>{const t=e.colorEndHex.value;/^#[0-9A-Fa-f]{6}$/.test(t)&&(this.identityColorEnd=t,e.colorEnd.value=t,this.updateIdentityPreview(),this.markUnsaved())})),e.sizeRange&&e.sizeValue&&(e.sizeRange.addEventListener("input",()=>{const t=e.sizeRange.value;this.identitySize=`${t}rem`,e.sizeValue.value=t,this.updateIdentityPreview(),this.markUnsaved()}),e.sizeValue.addEventListener("input",()=>{const t=parseFloat(e.sizeValue.value);t>=.875&&t<=2&&(this.identitySize=`${t}rem`,e.sizeRange.value=t,this.updateIdentityPreview(),this.markUnsaved())}))}updateIdentityPreview(){const e=this.identityElements;!e||!e.previewText||(e.previewText.textContent=this.siteName||"Blazing Sun",e.previewText.style.fontSize=this.identitySize,e.previewText.style.background=`linear-gradient(135deg, ${this.identityColorStart} 0%, ${this.identityColorEnd} 100%)`,e.previewText.style.webkitBackgroundClip="text",e.previewText.style.webkitTextFillColor="transparent",e.previewText.style.backgroundClip="text")}setupBeforeUnload(){window.addEventListener("beforeunload",e=>{this.hasUnsavedChanges&&(e.preventDefault(),e.returnValue="")})}initializeDomColorPickers(){document.querySelectorAll(".color-picker[data-var][data-type]").forEach(t=>{const a=t.dataset.var,i=t.dataset.type,s=t.querySelector(".color-picker__color"),l=t.querySelector(".color-picker__hex");!s||!l||(this.domColorPickers.push({element:t,varName:a,themeType:i,colorInput:s,hexInput:l}),s.addEventListener("input",()=>{l.value=s.value,this.handleDomColorChange(i,a,s.value)}),l.addEventListener("input",()=>{const n=l.value;/^#[0-9A-Fa-f]{6}$/.test(n)&&(s.value=n,this.handleDomColorChange(i,a,n))}))}),console.log(`Initialized ${this.domColorPickers.length} DOM color pickers`)}initializeDomAnglePickers(){document.querySelectorAll(".angle-picker[data-var][data-type]").forEach(t=>{const a=t.dataset.var,i=t.dataset.type,s=t.querySelector(".angle-picker__range"),l=t.querySelector(".angle-picker__number");!s||!l||(this.domAnglePickers.push({element:t,varName:a,themeType:i,rangeInput:s,numberInput:l}),s.addEventListener("input",()=>{l.value=s.value,this.handleDomAngleChange(i,a,s.value)}),l.addEventListener("input",()=>{const n=parseInt(l.value,10);n>=0&&n<=360&&(s.value=n,this.handleDomAngleChange(i,a,n))}))}),console.log(`Initialized ${this.domAnglePickers.length} DOM angle pickers`)}initializeDomSizePickers(){document.querySelectorAll(".size-picker[data-var][data-type]").forEach(t=>{const a=t.dataset.var,i=t.dataset.type,s=t.querySelector(".size-picker__number"),l=t.querySelector(".size-picker__unit"),n=t.querySelector(".size-picker__preview, .radius-preview");if(!s)return;const r={element:t,varName:a,themeType:i,numberInput:s,unitSelect:l,preview:n};this.sizePickers.push(r),s.addEventListener("input",()=>{const o=parseFloat(s.value),h=l?l.value:"rem";this.handleDomSizeChange(a,o,h),n&&(a.includes("font")?n.style.fontSize=`${o}${h}`:a.includes("radius")&&(n.style.borderRadius=`${o}${h}`))}),l&&l.addEventListener("change",()=>{const o=parseFloat(s.value),h=l.value;this.handleDomSizeChange(a,o,h)})}),console.log(`Initialized ${this.sizePickers.length} DOM size pickers`)}handleDomColorChange(e,t,a){this.currentConfig&&(console.log(`handleDomColorChange: ${e}, ${t} = ${a}`),e==="light"?(this.currentConfig.theme_light||(this.currentConfig.theme_light={}),this.currentConfig.theme_light[t]=a):e==="dark"?(this.currentConfig.theme_dark||(this.currentConfig.theme_dark={}),this.currentConfig.theme_dark[t]=a):e==="scss"&&(this.currentConfig.scss_variables||(this.currentConfig.scss_variables={}),this.currentConfig.scss_variables[t]=a),this.markUnsaved())}handleDomAngleChange(e,t,a){this.currentConfig&&(console.log(`handleDomAngleChange: ${e}, ${t} = ${a}`),e==="light"?(this.currentConfig.theme_light||(this.currentConfig.theme_light={}),this.currentConfig.theme_light[t]=parseInt(a,10)):e==="dark"&&(this.currentConfig.theme_dark||(this.currentConfig.theme_dark={}),this.currentConfig.theme_dark[t]=parseInt(a,10)),this.markUnsaved())}handleDomSizeChange(e,t,a){this.currentConfig&&(this.currentConfig.scss_variables||(this.currentConfig.scss_variables={}),this.currentConfig.scss_variables[e]=`${t}${a}`,this.markUnsaved())}async loadConfig(){console.log("loadConfig() called, fetching from:",`${this.baseUrl}/api/v1/admin/theme`);try{const e=await fetch(`${this.baseUrl}/api/v1/admin/theme`,{headers:c(),credentials:"include"});if(console.log("loadConfig response status:",e.status),!e.ok)throw new Error("Failed to load theme configuration");const t=await e.json();if(console.log("loadConfig result:",t),t.status==="success")this.originalConfig=JSON.parse(JSON.stringify(t.config)),this.currentConfig=t.config,console.log("currentConfig.theme_light:",this.currentConfig.theme_light),console.log("currentConfig.theme_dark:",this.currentConfig.theme_dark),this.populateForm();else throw new Error(t.message||"Unknown error")}catch(e){console.error("Failed to load config:",e),this.showToast("Failed to load theme configuration","error")}}populateForm(){if(this.currentConfig){if(this.logoUuid=this.currentConfig.logo_uuid,this.logoStorageType=this.currentConfig.logo_storage_type||"public",this.faviconUuid=this.currentConfig.favicon_uuid,this.faviconStorageType=this.currentConfig.favicon_storage_type||"public",this.updateImagePreview("logo",this.logoUuid,this.logoStorageType),this.updateImagePreview("favicon",this.faviconUuid,this.faviconStorageType),this.siteName=this.currentConfig.site_name||"Blazing Sun",this.showSiteName=this.currentConfig.show_site_name!==!1,this.identityColorStart=this.currentConfig.identity_color_start||"#3498db",this.identityColorEnd=this.currentConfig.identity_color_end||"#764ba2",this.identitySize=this.currentConfig.identity_size||"1.375rem",this.identityElements){const e=this.identityElements;e.siteName&&(e.siteName.value=this.siteName),e.showSiteName&&(e.showSiteName.checked=this.showSiteName),e.colorStart&&(e.colorStart.value=this.identityColorStart),e.colorStartHex&&(e.colorStartHex.value=this.identityColorStart),e.colorEnd&&(e.colorEnd.value=this.identityColorEnd),e.colorEndHex&&(e.colorEndHex.value=this.identityColorEnd);const t=parseFloat(this.identitySize);e.sizeRange&&(e.sizeRange.value=t),e.sizeValue&&(e.sizeValue.value=t)}this.updateIdentityPreview(),this.populateDomColorPickers(),this.populateDomAnglePickers(),this.populateDomSizePickers()}}populateDomColorPickers(){const e=this.currentConfig.theme_light||{},t=this.currentConfig.theme_dark||{},a=this.currentConfig.scss_variables||{};this.domColorPickers.forEach(({varName:i,themeType:s,colorInput:l,hexInput:n})=>{let r="#000000";s==="light"?r=e[i]||"#000000":s==="dark"?r=t[i]||"#000000":s==="scss"&&(r=a[i]||"#667eea"),l.value=r,n.value=r}),console.log("Populated DOM color pickers with API values")}populateDomAnglePickers(){const e=this.currentConfig.theme_light||{},t=this.currentConfig.theme_dark||{};this.domAnglePickers.forEach(({varName:a,themeType:i,rangeInput:s,numberInput:l})=>{let n=135;i==="light"?n=e[a]??135:i==="dark"&&(n=t[a]??135),s.value=n,l.value=n}),console.log("Populated DOM angle pickers with API values")}populateDomSizePickers(){const e=this.currentConfig.scss_variables||{};this.sizePickers.forEach(({varName:t,numberInput:a,unitSelect:i,preview:s})=>{const l=e[t];if(!l)return;const n=parseFloat(l),r=l.replace(/[\d.-]/g,"")||"rem";if(a.value=n,i){for(let o=0;o<i.options.length;o++)if(i.options[o].value===r){i.selectedIndex=o;break}}s&&(t.includes("font")?s.style.fontSize=l:t.includes("radius")&&(s.style.borderRadius=l))}),console.log("Populated DOM size pickers with API values")}updatePreview(){}markUnsaved(){this.hasUnsavedChanges=!0}markSaved(){this.hasUnsavedChanges=!1}async openImageModal(e){var a,i;if(this.currentImageTarget=e,this.imageModalTitle){const s={logo:"Select Logo",favicon:"Select Favicon",og_image:"Select OG Image",twitter_image:"Select Twitter Image"};this.imageModalTitle.textContent=s[e]||"Select Image"}let t=null;e==="logo"?t=this.logoUuid:e==="favicon"?t=this.faviconUuid:e==="og_image"?t=(a=this.currentSeoPage)==null?void 0:a.og_image_uuid:e==="twitter_image"&&(t=(i=this.currentSeoPage)==null?void 0:i.twitter_image_uuid),this.removeImageBtn&&(t?this.removeImageBtn.classList.remove("hidden"):this.removeImageBtn.classList.add("hidden")),await this.loadUserUploads(),this.imageModal&&this.imageModal.classList.remove("hidden")}closeImageModal(){this.imageModal&&this.imageModal.classList.add("hidden"),this.currentImageTarget=null}async loadUserUploads(){if(this.imageGrid){this.imageGrid.innerHTML='<div class="loading">Loading images...</div>';try{const e=await fetch(`${this.baseUrl}/api/v1/upload/user`,{headers:c(),credentials:"include"});if(!e.ok)throw new Error("Failed to load uploads");const i=((await e.json()).uploads||[]).filter(s=>s.mime_type&&s.mime_type.startsWith("image/"));if(i.length===0){this.imageGrid.innerHTML='<div class="image-grid__empty">No images found. Upload one above!</div>';return}this.imageGrid.innerHTML="",i.forEach(s=>{const l=document.createElement("div");l.className="image-grid__item";const n=s.storage_type==="public"?`/api/v1/upload/download/public/${s.uuid}?variant=thumb`:`/api/v1/upload/private/${s.uuid}?variant=thumb`,r=s.storage_type==="private"?'<span class="image-grid__private-badge" title="Private - will be copied to public">Private</span>':"";l.innerHTML=`
          <img src="${n}" alt="${s.original_name}">
          ${r}
          <span class="image-grid__name">${s.original_name}</span>
        `,l.addEventListener("click",()=>this.selectImage(s.uuid,s.storage_type)),this.imageGrid.appendChild(l)})}catch(e){console.error("Failed to load uploads:",e),this.imageGrid.innerHTML='<div class="image-grid__error">Failed to load images</div>'}}}async selectImage(e,t="public"){this.currentImageTarget==="logo"?(this.logoUuid=e,this.logoStorageType=t,this.updateImagePreview("logo",e,t),this.markUnsaved()):this.currentImageTarget==="favicon"?(this.faviconUuid=e,this.faviconStorageType=t,this.updateImagePreview("favicon",e,t),this.markUnsaved()):this.currentImageTarget==="og_image"?this.currentSeoPage&&(this.currentSeoPage.og_image_uuid=e,this.currentSeoPage.og_image_storage_type=t,this.updateSeoImagePreview("og_image",e,t)):this.currentImageTarget==="twitter_image"&&this.currentSeoPage&&(this.currentSeoPage.twitter_image_uuid=e,this.currentSeoPage.twitter_image_storage_type=t,this.updateSeoImagePreview("twitter_image",e,t)),this.closeImageModal()}async duplicateToPublic(e){var t,a,i;try{this.showToast("Copying image to public...","info");const s=await fetch(`${this.baseUrl}/api/v1/upload/private/${e}`,{headers:c(),credentials:"include"});if(!s.ok)throw new Error("Failed to download private image");const l=await s.blob(),n=((a=(t=s.headers.get("content-disposition"))==null?void 0:t.match(/filename="(.+)"/))==null?void 0:a[1])||"image.jpg",r=new FormData;r.append("file",l,n);const o={},h=f();h&&(o["X-CSRF-TOKEN"]=h);const g=await fetch(`${this.baseUrl}/api/v1/upload/public`,{method:"POST",headers:o,body:r,credentials:"include"}),p=await g.json();if(g.ok&&p.status==="success"&&((i=p.upload)!=null&&i.uuid))return this.showToast("Image copied to public","success"),p.upload.uuid;throw new Error(p.message||"Failed to upload")}catch(s){return console.error("Failed to duplicate to public:",s),null}}removeCurrentImage(){this.currentImageTarget==="logo"?(this.logoUuid=null,this.updateImagePreview("logo",null),this.markUnsaved()):this.currentImageTarget==="favicon"?(this.faviconUuid=null,this.updateImagePreview("favicon",null),this.markUnsaved()):this.currentImageTarget==="og_image"?this.currentSeoPage&&(this.currentSeoPage.og_image_uuid=null,this.updateSeoImagePreview("og_image",null)):this.currentImageTarget==="twitter_image"&&this.currentSeoPage&&(this.currentSeoPage.twitter_image_uuid=null,this.updateSeoImagePreview("twitter_image",null))}updateImagePreview(e,t,a="public"){let i,s;if(e==="logo"?(i=this.logoPreview,s=this.logoPlaceholder):(i=this.faviconPreview,s=this.faviconPlaceholder),t&&i){const l=a==="public"?`/api/v1/upload/download/public/${t}?variant=medium`:`/api/v1/upload/private/${t}?variant=medium`;i.src=l,i.classList.remove("hidden"),s&&s.classList.add("hidden")}else i&&i.classList.add("hidden"),s&&s.classList.remove("hidden")}async handleImageUpload(e){var i;const t=e.target.files[0];if(!t)return;if(!t.type.startsWith("image/")){this.showToast("Please select an image file","error"),e.target.value="";return}const a=new FormData;a.append("file",t);try{this.showToast("Uploading image...","info");const s={},l=f();l&&(s["X-CSRF-TOKEN"]=l);const n=await fetch(`${this.baseUrl}/api/v1/upload/public`,{method:"POST",headers:s,body:a,credentials:"include"}),r=await n.json();n.ok&&r.status==="success"&&((i=r.upload)!=null&&i.uuid)?(this.showToast("Image uploaded successfully","success"),await this.selectImage(r.upload.uuid,"public")):this.showToast(r.message||"Upload failed","error")}catch(s){console.error("Upload failed:",s),this.showToast("Network error during upload","error")}e.target.value=""}async saveChanges(e=null){if(!this.currentConfig)return{saved:!1};const t={logo_uuid:this.logoUuid,favicon_uuid:this.faviconUuid,scss_variables:this.currentConfig.scss_variables,theme_light:this.currentConfig.theme_light,theme_dark:this.currentConfig.theme_dark};try{e&&this.setButtonLoading(e,!0),this.showBuildOverlay("Saving and building theme...");const a=await fetch(`${this.baseUrl}/api/v1/admin/theme`,{method:"PUT",headers:c(),body:JSON.stringify(t),credentials:"include"}),i=await a.json();return a.ok&&i.status==="success"?(this.originalConfig=JSON.parse(JSON.stringify(this.currentConfig)),this.markSaved(),i.success&&i.new_version?(this.updateBuildStatus("Build successful!"),this.updateGlobalAssetsVersion(i.new_version),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(`Theme saved and built! Version: ${i.new_version}`,"success")},1e3)):i.success===!1?(this.updateBuildStatus(`Build failed: ${i.error||"Unknown error"}`),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(i.error||"Build failed","error")},2e3)):(this.hideBuildOverlay(),this.showToast("Theme configuration saved!","success")),{saved:!0,buildSuccess:i.success,version:i.new_version}):(this.hideBuildOverlay(),this.showToast(i.message||"Failed to save","error"),{saved:!1})}catch(a){return console.error("Save failed:",a),this.hideBuildOverlay(),this.showToast("Network error while saving","error"),{saved:!1}}finally{e&&this.setButtonLoading(e,!1)}}async saveBranding(e=null){const t={logo_uuid:this.logoUuid||"",favicon_uuid:this.faviconUuid||"",site_name:this.siteName||"Blazing Sun",show_site_name:this.showSiteName,identity_color_start:this.identityColorStart||"#3498db",identity_color_end:this.identityColorEnd||"#764ba2",identity_size:this.identitySize||"1.375rem"},a=this.currentConfig&&(t.identity_color_start!==this.currentConfig.identity_color_start||t.identity_color_end!==this.currentConfig.identity_color_end||t.identity_size!==this.currentConfig.identity_size);try{e&&this.setButtonLoading(e,!0),a&&this.showBuildOverlay("Saving branding and rebuilding theme...");const i=await fetch(`${this.baseUrl}/api/v1/admin/theme/branding`,{method:"PUT",headers:c(),body:JSON.stringify(t),credentials:"include"}),s=await i.json();return i.ok&&s.status==="success"?(this.currentConfig&&(this.currentConfig.site_name=t.site_name,this.currentConfig.show_site_name=t.show_site_name,this.currentConfig.identity_color_start=t.identity_color_start,this.currentConfig.identity_color_end=t.identity_color_end,this.currentConfig.identity_size=t.identity_size,this.currentConfig.logo_uuid=t.logo_uuid,this.currentConfig.favicon_uuid=t.favicon_uuid),this.markSaved(),this.updateNavbarBranding(t),s.success&&s.new_version?(this.updateBuildStatus("Build successful!"),this.updateGlobalAssetsVersion(s.new_version),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(`Branding saved and theme rebuilt! Version: ${s.new_version}`,"success")},1e3),{saved:!0,buildSuccess:!0,version:s.new_version}):s.success===!1&&s.error?(this.updateBuildStatus(`Build failed: ${s.error}`),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(s.error||"Build failed","error")},2e3),{saved:!0,buildSuccess:!1}):(this.hideBuildOverlay(),this.showToast("Branding saved successfully!","success"),{saved:!0})):(this.hideBuildOverlay(),this.showToast(s.message||"Failed to save branding","error"),{saved:!1})}catch(i){return console.error("Save branding failed:",i),this.hideBuildOverlay(),this.showToast("Network error while saving branding","error"),{saved:!1}}finally{e&&this.setButtonLoading(e,!1)}}updateNavbarBranding(e){const t=document.querySelector(".navbar__logo-text");t&&(t.textContent=e.site_name||"Blazing Sun",t.style.display=e.show_site_name?"":"none",t.style.background=`linear-gradient(135deg, ${e.identity_color_start} 0%, ${e.identity_color_end} 100%)`,t.style.webkitBackgroundClip="text",t.style.webkitTextFillColor="transparent",t.style.backgroundClip="text",t.style.fontSize=e.identity_size)}async saveColors(e=null){if(!this.currentConfig)return this.showToast("No configuration loaded","error"),{saved:!1};const t={theme_light:this.currentConfig.theme_light||{},theme_dark:this.currentConfig.theme_dark||{}};console.log("saveColors called"),console.log("theme_light:",JSON.stringify(t.theme_light,null,2)),console.log("theme_dark:",JSON.stringify(t.theme_dark,null,2));try{e&&this.setButtonLoading(e,!0,"Building..."),this.showBuildOverlay("Saving colors and rebuilding theme...");const a=await fetch(`${this.baseUrl}/api/v1/admin/theme`,{method:"PUT",headers:c(),body:JSON.stringify(t),credentials:"include"}),i=await a.json();return a.ok&&i.status==="success"?(this.markSaved(),i.success&&i.new_version?(this.updateBuildStatus("Build successful!"),this.updateGlobalAssetsVersion(i.new_version),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(`Colors saved and theme built! Version: ${i.new_version}`,"success")},1e3)):i.success===!1?(this.updateBuildStatus(`Build failed: ${i.error||"Unknown error"}`),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(i.error||"Build failed","error")},2e3)):(this.hideBuildOverlay(),this.showToast("Colors saved successfully!","success")),{saved:!0,buildSuccess:i.success,version:i.new_version}):(this.hideBuildOverlay(),this.showToast(i.message||"Failed to save colors","error"),{saved:!1})}catch(a){return console.error("Save colors failed:",a),this.hideBuildOverlay(),this.showToast("Network error while saving colors","error"),{saved:!1}}finally{e&&this.setButtonLoading(e,!1)}}async saveTypography(e=null){if(!this.currentConfig)return this.showToast("No configuration loaded","error"),{saved:!1};const t=this.currentConfig.scss_variables||{},a={},i=["font_size","font_weight","line_height","letter_spacing","font_family"];Object.keys(t).forEach(l=>{i.some(n=>l.startsWith(n))&&(a[l]=t[l])});const s={scss_variables:a};console.log("saveTypography called"),console.log("typography variables:",JSON.stringify(a,null,2));try{e&&this.setButtonLoading(e,!0,"Building..."),this.showBuildOverlay("Saving typography and rebuilding theme...");const l=await fetch(`${this.baseUrl}/api/v1/admin/theme`,{method:"PUT",headers:c(),body:JSON.stringify(s),credentials:"include"}),n=await l.json();return l.ok&&n.status==="success"?(this.markSaved(),n.success&&n.new_version?(this.updateBuildStatus("Build successful!"),this.updateGlobalAssetsVersion(n.new_version),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(`Typography saved and theme built! Version: ${n.new_version}`,"success")},1e3)):n.success===!1?(this.updateBuildStatus(`Build failed: ${n.error||"Unknown error"}`),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(n.error||"Build failed","error")},2e3)):(this.hideBuildOverlay(),this.showToast("Typography saved successfully!","success")),{saved:!0,buildSuccess:n.success,version:n.new_version}):(this.hideBuildOverlay(),this.showToast(n.message||"Failed to save typography","error"),{saved:!1})}catch(l){return console.error("Save typography failed:",l),this.hideBuildOverlay(),this.showToast("Network error while saving typography","error"),{saved:!1}}finally{e&&this.setButtonLoading(e,!1)}}async saveSpacing(e=null){if(!this.currentConfig)return this.showToast("No configuration loaded","error"),{saved:!1};const t=this.currentConfig.scss_variables||{},a={},i=["spacing","radius","padding","margin","gap"];Object.keys(t).forEach(l=>{i.some(n=>l.startsWith(n))&&(a[l]=t[l])});const s={scss_variables:a};console.log("saveSpacing called"),console.log("spacing variables:",JSON.stringify(a,null,2));try{e&&this.setButtonLoading(e,!0,"Building..."),this.showBuildOverlay("Saving spacing and rebuilding theme...");const l=await fetch(`${this.baseUrl}/api/v1/admin/theme`,{method:"PUT",headers:c(),body:JSON.stringify(s),credentials:"include"}),n=await l.json();return l.ok&&n.status==="success"?(this.markSaved(),n.success&&n.new_version?(this.updateBuildStatus("Build successful!"),this.updateGlobalAssetsVersion(n.new_version),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(`Spacing saved and theme built! Version: ${n.new_version}`,"success")},1e3)):n.success===!1?(this.updateBuildStatus(`Build failed: ${n.error||"Unknown error"}`),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(n.error||"Build failed","error")},2e3)):(this.hideBuildOverlay(),this.showToast("Spacing saved successfully!","success")),{saved:!0,buildSuccess:n.success,version:n.new_version}):(this.hideBuildOverlay(),this.showToast(n.message||"Failed to save spacing","error"),{saved:!1})}catch(l){return console.error("Save spacing failed:",l),this.hideBuildOverlay(),this.showToast("Network error while saving spacing","error"),{saved:!1}}finally{e&&this.setButtonLoading(e,!1)}}async triggerBuild(e=!1){if(!this.isBuilding){!e&&this.hasUnsavedChanges&&confirm("You have unsaved changes. Save before building?")&&await this.saveChanges(),this.isBuilding=!0,this.showBuildOverlay("Starting build...");try{const t=await fetch(`${this.baseUrl}/api/v1/admin/theme/build`,{method:"POST",headers:c(),credentials:"include"}),a=await t.json();t.ok&&a.status==="success"?(this.updateBuildStatus("Build successful!"),a.new_version&&this.updateGlobalAssetsVersion(a.new_version),setTimeout(()=>{this.hideBuildOverlay();const i=a.new_version?` Version: ${a.new_version}`:"";this.showToast(`Theme built successfully!${i}`,"success")},1500)):(this.updateBuildStatus(`Build failed: ${a.message||"Unknown error"}`),setTimeout(()=>{this.hideBuildOverlay(),this.showToast(a.message||"Build failed","error")},3e3))}catch(t){console.error("Build failed:",t),this.updateBuildStatus("Build failed: Network error"),setTimeout(()=>{this.hideBuildOverlay(),this.showToast("Network error during build","error")},2e3)}finally{this.isBuilding=!1}}}showBuildOverlay(e){this.buildOverlay&&this.buildOverlay.classList.remove("hidden"),this.updateBuildStatus(e)}hideBuildOverlay(){this.buildOverlay&&this.buildOverlay.classList.add("hidden")}updateBuildStatus(e){this.buildStatus&&(this.buildStatus.textContent=e)}setButtonLoading(e,t,a="Saving..."){e&&(e.disabled=t,t?(e.dataset.originalText=e.textContent,e.textContent=a,e.classList.add("btn--loading")):(e.textContent=e.dataset.originalText||"Save",e.classList.remove("btn--loading")))}updateGlobalAssetsVersion(e){if(!e)return;const t=document.querySelector('link[href*="/css/GLOBAL/"]');if(t){const i=t.getAttribute("href"),s=i.includes("?v=")?i.replace(/\?v=[^&]+/,`?v=${e}`):`${i}?v=${e}`;t.setAttribute("href",s),console.log("Updated GLOBAL CSS:",s)}const a=document.querySelector('script[src*="/js/GLOBAL/"]');if(a){const i=a.getAttribute("src"),s=i.includes("?v=")?i.replace(/\?v=[^&]+/,`?v=${e}`):`${i}?v=${e}`;a.setAttribute("src",s),console.log("Updated GLOBAL JS:",s)}}setupSEO(){this.seoFormElements={pageList:document.getElementById("seoPageItems"),placeholder:document.getElementById("seoFormPlaceholder"),content:document.getElementById("seoContent"),form:document.getElementById("seoForm"),pageName:document.getElementById("seoPageName"),pagePath:document.getElementById("seoPagePath"),routeName:document.getElementById("seoRouteName"),subtabs:document.querySelectorAll(".seo-subtab"),subpanels:{metatags:document.getElementById("seo-subpanel-metatags"),schemas:document.getElementById("seo-subpanel-schemas"),hreflang:document.getElementById("seo-subpanel-hreflang")},schemasList:document.getElementById("schemasList"),schemasEmpty:document.getElementById("schemasEmpty"),addSchemaBtn:document.getElementById("addSchemaBtn"),title:document.getElementById("seoTitle"),description:document.getElementById("seoDescription"),keywords:document.getElementById("seoKeywords"),robots:document.getElementById("seoRobots"),canonical:document.getElementById("seoCanonical"),ogTitle:document.getElementById("seoOgTitle"),ogDescription:document.getElementById("seoOgDescription"),ogType:document.getElementById("seoOgType"),ogImageSelector:document.getElementById("ogImageSelector"),ogImagePreview:document.getElementById("ogImagePreview"),ogImagePlaceholder:document.getElementById("ogImagePlaceholder"),ogImageUuid:document.getElementById("seoOgImageUuid"),twitterCard:document.getElementById("seoTwitterCard"),twitterTitle:document.getElementById("seoTwitterTitle"),twitterDescription:document.getElementById("seoTwitterDescription"),twitterImageSelector:document.getElementById("twitterImageSelector"),twitterImagePreview:document.getElementById("twitterImagePreview"),twitterImagePlaceholder:document.getElementById("twitterImagePlaceholder"),twitterImageUuid:document.getElementById("seoTwitterImageUuid"),isActive:document.getElementById("seoIsActive"),saveBtn:document.getElementById("seoSaveBtn")},this.seoFormElements.form&&this.seoFormElements.form.addEventListener("submit",e=>{e.preventDefault(),this.saveSeoPage()}),this.setupSeoSubtabs(),this.setupSeoCharacterCounts(),this.setupSeoImageSelectors(),this.loadSeoPages()}setupSeoSubtabs(){const e=this.seoFormElements;!e.subtabs||e.subtabs.length===0||(e.subtabs.forEach(t=>{t.addEventListener("click",()=>{const a=t.dataset.subtab;this.switchSeoSubtab(a)})}),e.addSchemaBtn&&e.addSchemaBtn.addEventListener("click",()=>{this.openSchemaModal()}))}switchSeoSubtab(e){const t=this.seoFormElements;t.subtabs.forEach(a=>{const i=a.dataset.subtab===e;a.classList.toggle("active",i),a.setAttribute("aria-selected",i?"true":"false")}),Object.entries(t.subpanels).forEach(([a,i])=>{i&&i.classList.toggle("hidden",a!==e)})}openSchemaModal(e=null){if(!this.schemaModal){this.showToast("Schema modal not available","error");return}if(!this.currentSeoPage){this.showToast("Please select a page first","error");return}this.resetSchemaModal(),e&&(this.editingSchemaId=e.id,this.schemaModalTitle&&(this.schemaModalTitle.textContent="Edit Schema"),this.schemaTypeSelect&&e.schema_type&&(this.schemaTypeSelect.value=e.schema_type,this.onSchemaTypeChange(e.schema_type),setTimeout(()=>{this.populateSchemaFields(e.schema_data)},50))),this.schemaModal.classList.remove("hidden")}populateSchemaFields(e){!e||!this.schemaFields||(Object.entries(e).forEach(([t,a])=>{var s;if(t.startsWith("@")||typeof a=="object"&&!Array.isArray(a))return;const i=this.schemaFields.querySelector(`[data-field="${t}"]`);if(i)if(i.type==="checkbox")i.checked=!!a;else if(Array.isArray(a)){const l=i.closest(".schema-array");if(l){const n=(s=l.querySelector(".schema-array__add"))==null?void 0:s.dataset.array;n&&a.forEach(r=>{this.addArrayItem(n);const o=document.getElementById(`${n}_items`),h=o==null?void 0:o.querySelector(".schema-array__item:last-child input");h&&(h.value=r)})}}else i.value=a}),Object.entries(e).forEach(([t,a])=>{if(t.startsWith("@")||typeof a!="object"||Array.isArray(a))return;const i=this.schemaFields.querySelector(`.schema-nested[data-field="${t}"]`);i&&Object.entries(a).forEach(([s,l])=>{if(s.startsWith("@"))return;const n=i.querySelector(`[data-field="${s}"]`);n&&(n.type==="checkbox"?n.checked=!!l:n.value=l)})}),this.updateSchemaPreview())}setupSeoCharacterCounts(){[{id:"seoTitle",max:70},{id:"seoDescription",max:160},{id:"seoOgTitle",max:95},{id:"seoOgDescription",max:200},{id:"seoTwitterTitle",max:70},{id:"seoTwitterDescription",max:200}].forEach(({id:t,max:a})=>{const i=document.getElementById(t),s=document.querySelector(`.char-count[data-for="${t}"]`);if(i&&s){const l=()=>{const n=i.value.length;s.textContent=`${n}/${a}`,s.classList.toggle("char-count--warning",n>a*.9),s.classList.toggle("char-count--error",n>=a)};i.addEventListener("input",l),l()}})}setupSeoImageSelectors(){const{ogImageSelector:e,twitterImageSelector:t}=this.seoFormElements;e&&(e.addEventListener("click",()=>this.openImageModal("og_image")),e.addEventListener("keydown",a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),this.openImageModal("og_image"))})),t&&(t.addEventListener("click",()=>this.openImageModal("twitter_image")),t.addEventListener("keydown",a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),this.openImageModal("twitter_image"))}))}async loadSeoPages(){try{const e=await fetch(`${this.baseUrl}/api/v1/admin/seo`,{headers:c(),credentials:"include"});if(!e.ok)throw new Error("Failed to load SEO pages");const t=await e.json();if(t.status==="success")this.seoPages=t.pages||[],this.renderSeoPageList();else throw new Error(t.message||"Unknown error")}catch(e){console.error("Failed to load SEO pages:",e),this.showToast("Failed to load SEO pages","error")}}renderSeoPageList(){const{pageList:e}=this.seoFormElements;e&&(e.innerHTML="",this.seoPages.forEach(t=>{const a=document.createElement("li");a.className="seo-page-list__item",a.dataset.routeName=t.route_name;const i=t.is_active?"seo-page-list__status--active":"seo-page-list__status--inactive",s=t.is_active?"Active":"Inactive";a.innerHTML=`
        <div class="seo-page-list__info">
          <span class="seo-page-list__label">${this.escapeHtml(t.page_label)}</span>
          <span class="seo-page-list__path">${this.escapeHtml(t.page_path)}</span>
        </div>
        <span class="seo-page-list__status ${i}">${s}</span>
      `,a.addEventListener("click",()=>this.selectSeoPage(t.route_name)),e.appendChild(a)}))}async selectSeoPage(e){var a;const t=(a=this.seoFormElements.pageList)==null?void 0:a.querySelectorAll(".seo-page-list__item");t==null||t.forEach(i=>{i.classList.toggle("seo-page-list__item--active",i.dataset.routeName===e)});try{const i=await fetch(`${this.baseUrl}/api/v1/admin/seo/${encodeURIComponent(e)}`,{headers:c(),credentials:"include"});if(!i.ok)throw new Error("Failed to load SEO data");const s=await i.json();if(s.status==="success"&&s.seo)this.currentSeoPage=s.seo,this.populateSeoForm(s.seo);else throw new Error(s.message||"Unknown error")}catch(i){console.error("Failed to load SEO page:",i),this.showToast("Failed to load SEO data","error")}}populateSeoForm(e){var a,i,s;const t=this.seoFormElements;t.form&&((a=t.placeholder)==null||a.classList.add("hidden"),(i=t.content)==null||i.classList.remove("hidden"),this.switchSeoSubtab("metatags"),t.pageName&&(t.pageName.textContent=e.page_label||""),t.pagePath&&(t.pagePath.textContent=e.page_path||""),t.routeName&&(t.routeName.value=e.route_name||""),t.title&&(t.title.value=e.title||""),t.description&&(t.description.value=e.description||""),t.keywords&&(t.keywords.value=e.keywords||""),t.robots&&(t.robots.value=e.robots||"index, follow"),t.canonical&&(t.canonical.value=e.canonical_url||""),t.ogTitle&&(t.ogTitle.value=e.og_title||""),t.ogDescription&&(t.ogDescription.value=e.og_description||""),t.ogType&&(t.ogType.value=e.og_type||"website"),this.currentSeoPage.og_image_uuid=e.og_image_uuid,this.updateSeoImagePreview("og_image",e.og_image_uuid),t.twitterCard&&(t.twitterCard.value=e.twitter_card||"summary"),t.twitterTitle&&(t.twitterTitle.value=e.twitter_title||""),t.twitterDescription&&(t.twitterDescription.value=e.twitter_description||""),this.currentSeoPage.twitter_image_uuid=e.twitter_image_uuid,this.updateSeoImagePreview("twitter_image",e.twitter_image_uuid),t.isActive&&(t.isActive.checked=e.is_active!==!1),this.updateAllSeoCharCounts(),(s=this.currentSeoPage)!=null&&s.id&&this.loadPageSchemas(this.currentSeoPage.id))}updateAllSeoCharCounts(){["seoTitle","seoDescription","seoOgTitle","seoOgDescription","seoTwitterTitle","seoTwitterDescription"].forEach(t=>{const a=document.getElementById(t);a&&a.dispatchEvent(new Event("input"))})}updateSeoImagePreview(e,t,a="public"){let i,s,l;if(e==="og_image"?(i=this.seoFormElements.ogImagePreview,s=this.seoFormElements.ogImagePlaceholder,l=this.seoFormElements.ogImageUuid):(i=this.seoFormElements.twitterImagePreview,s=this.seoFormElements.twitterImagePlaceholder,l=this.seoFormElements.twitterImageUuid),t&&i){const n=a==="public"?`/api/v1/upload/download/public/${t}?variant=medium`:`/api/v1/upload/private/${t}?variant=medium`;i.src=n,i.classList.remove("hidden"),s&&s.classList.add("hidden")}else i&&i.classList.add("hidden"),s&&s.classList.remove("hidden");l&&(l.value=t||"")}async saveSeoPage(){var i,s,l,n,r,o,h,g,p,_,E,T,C,x;if(!this.currentSeoPage)return;const e=this.seoFormElements,t=(i=e.routeName)==null?void 0:i.value;if(!t)return;const a={title:((s=e.title)==null?void 0:s.value)||null,description:((l=e.description)==null?void 0:l.value)||null,keywords:((n=e.keywords)==null?void 0:n.value)||null,robots:((r=e.robots)==null?void 0:r.value)||null,canonical_url:((o=e.canonical)==null?void 0:o.value)||null,og_title:((h=e.ogTitle)==null?void 0:h.value)||null,og_description:((g=e.ogDescription)==null?void 0:g.value)||null,og_type:((p=e.ogType)==null?void 0:p.value)||null,og_image_uuid:this.currentSeoPage.og_image_uuid||null,twitter_card:((_=e.twitterCard)==null?void 0:_.value)||null,twitter_title:((E=e.twitterTitle)==null?void 0:E.value)||null,twitter_description:((T=e.twitterDescription)==null?void 0:T.value)||null,twitter_image_uuid:this.currentSeoPage.twitter_image_uuid||null,is_active:((C=e.isActive)==null?void 0:C.checked)??!0};try{this.setButtonLoading(e.saveBtn,!0);const v=await fetch(`${this.baseUrl}/api/v1/admin/seo/${encodeURIComponent(t)}`,{method:"PUT",headers:c(),body:JSON.stringify(a),credentials:"include"}),I=await v.json();if(v.ok&&I.status==="success"){this.showToast("SEO settings saved","success");const b=this.seoPages.findIndex(H=>H.route_name===t);b!==-1&&(this.seoPages[b].is_active=a.is_active,this.seoPages[b].title=a.title,this.seoPages[b].description=a.description),this.renderSeoPageList();const S=(x=this.seoFormElements.pageList)==null?void 0:x.querySelector(`[data-route-name="${t}"]`);S==null||S.classList.add("seo-page-list__item--active")}else this.showToast(I.message||"Failed to save SEO settings","error")}catch(v){console.error("Failed to save SEO:",v),this.showToast("Network error while saving","error")}finally{this.setButtonLoading(e.saveBtn,!1)}}escapeHtml(e){if(!e)return"";const t=document.createElement("div");return t.textContent=e,t.innerHTML}}class k{constructor(e){this.name=e.name,this.label=e.label,this.value=this.normalizeColor(e.value),this.themeType=e.themeType||"light",this.onChange=e.onChange||(()=>{}),this.debounceTimer=null,this.debounceDelay=100,this.element=this.createElement(),this.colorInput=this.element.querySelector(".color-picker__color"),this.textInput=this.element.querySelector(".color-picker__text"),this.init()}normalizeColor(e){if(!e)return"#000000";if(/^#[0-9A-Fa-f]{6}$/.test(e))return e.toLowerCase();if(/^#[0-9A-Fa-f]{3}$/.test(e)){const a=e[1],i=e[2],s=e[3];return`#${a}${a}${i}${i}${s}${s}`.toLowerCase()}const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(t){const a=parseInt(t[1]).toString(16).padStart(2,"0"),i=parseInt(t[2]).toString(16).padStart(2,"0"),s=parseInt(t[3]).toString(16).padStart(2,"0");return`#${a}${i}${s}`}return"#000000"}createElement(){const e=document.createElement("div");return e.className="color-picker",e.dataset.name=this.name,e.innerHTML=`
      <label class="color-picker__label">${this.label}</label>
      <div class="color-picker__inputs">
        <input type="color" class="color-picker__color" value="${this.value}">
        <input type="text" class="color-picker__text" value="${this.value}" maxlength="7" pattern="^#[0-9A-Fa-f]{6}$">
      </div>
      <span class="color-picker__preview" style="background-color: ${this.value}"></span>
    `,e}init(){this.colorInput.addEventListener("input",e=>{this.value=e.target.value,this.textInput.value=this.value,this.updatePreview(),this.emitChange()}),this.textInput.addEventListener("input",e=>{let t=e.target.value;t&&!t.startsWith("#")&&(t="#"+t,e.target.value=t),/^#[0-9A-Fa-f]{6}$/i.test(t)?(this.value=t.toLowerCase(),this.colorInput.value=this.value,this.updatePreview(),this.emitChange(),this.textInput.classList.remove("invalid")):this.textInput.classList.add("invalid")}),this.textInput.addEventListener("blur",()=>{this.textInput.classList.contains("invalid")&&(this.textInput.value=this.value,this.textInput.classList.remove("invalid"))})}updatePreview(){const e=this.element.querySelector(".color-picker__preview");e&&(e.style.backgroundColor=this.value)}emitChange(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.onChange(this.name,this.value)},this.debounceDelay)}getValue(){return this.value}setValue(e){this.value=this.normalizeColor(e),this.colorInput.value=this.value,this.textInput.value=this.value,this.updatePreview()}}class L{constructor(e){this.name=e.name,this.label=e.label,this.value=e.value||1,this.unit=e.unit||"rem",this.min=e.min||0,this.max=e.max||10,this.step=e.step||.125,this.onChange=e.onChange||(()=>{}),this.debounceTimer=null,this.debounceDelay=150,this.element=this.createElement(),this.numberInput=this.element.querySelector(".size-picker__number"),this.unitSelect=this.element.querySelector(".size-picker__unit"),this.previewBar=this.element.querySelector(".size-picker__preview-bar"),this.valueDisplay=this.element.querySelector(".size-picker__value-display"),this.init(),this.updatePreview()}createElement(){const e=document.createElement("div");e.className="size-picker",e.dataset.name=this.name;const t=this.calculatePercent();return e.innerHTML=`
      <label class="size-picker__label">${this.label}</label>
      <div class="size-picker__inputs">
        <input type="number"
               class="size-picker__number"
               value="${this.value}"
               min="${this.min}"
               max="${this.max}"
               step="${this.step}">
        <select class="size-picker__unit">
          <option value="rem" ${this.unit==="rem"?"selected":""}>rem</option>
          <option value="px" ${this.unit==="px"?"selected":""}>px</option>
          <option value="em" ${this.unit==="em"?"selected":""}>em</option>
        </select>
      </div>
      <div class="size-picker__preview">
        <div class="size-picker__preview-bar" style="width: ${t}%"></div>
      </div>
      <span class="size-picker__value-display">${this.value}${this.unit}</span>
    `,e}calculatePercent(){const e=this.max-this.min;return e===0?50:(this.value-this.min)/e*100}init(){this.numberInput.addEventListener("input",e=>{let t=parseFloat(e.target.value);isNaN(t)&&(t=this.min),t<this.min&&(t=this.min),t>this.max&&(t=this.max),this.value=t,this.updatePreview(),this.emitChange()}),this.unitSelect.addEventListener("change",e=>{this.unit=e.target.value,this.updatePreview(),this.emitChange()}),this.numberInput.addEventListener("keydown",e=>{(e.key==="ArrowUp"||e.key==="ArrowDown")&&setTimeout(()=>{this.value=parseFloat(this.numberInput.value),this.updatePreview(),this.emitChange()},0)})}updatePreview(){const e=this.calculatePercent();this.previewBar&&(this.previewBar.style.width=`${e}%`),this.valueDisplay&&(this.valueDisplay.textContent=`${this.value}${this.unit}`)}emitChange(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.onChange(this.name,this.value,this.unit)},this.debounceDelay)}getValue(){return`${this.value}${this.unit}`}getNumericValue(){return this.value}getUnit(){return this.unit}setValue(e,t){this.value=e,t&&(this.unit=t),this.numberInput.value=this.value,this.unitSelect.value=this.unit,this.updatePreview()}}class A{constructor(e){this.name=e.name,this.label=e.label,this.currentUuid=e.currentUuid||null,this.previewElement=e.previewElement,this.placeholderElement=e.placeholderElement,this.selectButton=e.selectButton,this.removeButton=e.removeButton,this.onSelect=e.onSelect||(()=>{}),this.onRemove=e.onRemove||(()=>{}),this.openModal=e.openModal||(()=>{}),this.init(),this.updateDisplay()}init(){this.selectButton&&this.selectButton.addEventListener("click",()=>{this.openModal(this.name)}),this.removeButton&&this.removeButton.addEventListener("click",()=>{this.remove()})}updateDisplay(){this.currentUuid?(this.previewElement&&(this.previewElement.src=`/api/v1/upload/public/${this.currentUuid}?variant=small`,this.previewElement.classList.remove("hidden")),this.placeholderElement&&this.placeholderElement.classList.add("hidden"),this.removeButton&&this.removeButton.classList.remove("hidden")):(this.previewElement&&this.previewElement.classList.add("hidden"),this.placeholderElement&&this.placeholderElement.classList.remove("hidden"),this.removeButton&&this.removeButton.classList.add("hidden"))}select(e){this.currentUuid=e,this.updateDisplay(),this.onSelect(e)}remove(){this.currentUuid=null,this.updateDisplay(),this.onRemove()}getUuid(){return this.currentUuid}setUuid(e){this.currentUuid=e,this.updateDisplay()}}const $={organization:{label:"Organizations",icon:"building",description:"Businesses, companies, NGOs, and other organizations"},person:{label:"People",icon:"user",description:"Individual people and profiles"},web:{label:"Web Pages",icon:"globe",description:"Websites, web pages, and navigation"},content:{label:"Content",icon:"file-text",description:"Articles, blog posts, and written content"},commerce:{label:"Commerce",icon:"shopping-cart",description:"Products, offers, and e-commerce"},event:{label:"Events",icon:"calendar",description:"Events, conferences, and gatherings"},service:{label:"Services",icon:"briefcase",description:"Professional and business services"},navigation:{label:"Navigation",icon:"menu",description:"Breadcrumbs, lists, and navigation elements"},howto:{label:"How-To & Recipes",icon:"list",description:"Instructions, guides, and recipes"},media:{label:"Media",icon:"video",description:"Videos, images, and audio content"},software:{label:"Software",icon:"code",description:"Applications and software products"},education:{label:"Education",icon:"book",description:"Courses, learning resources, and educational content"},jobs:{label:"Jobs",icon:"clipboard",description:"Job postings and occupations"},place:{label:"Places",icon:"map-pin",description:"Locations, addresses, and venues"},creative:{label:"Creative Works",icon:"film",description:"Books, movies, music, and other creative works"},faq:{label:"FAQ",icon:"help-circle",description:"Frequently asked questions"}},m=[{name:"@type",type:"hidden",value:"PostalAddress"},{name:"streetAddress",type:"text",label:"Street Address",placeholder:"123 Main Street"},{name:"addressLocality",type:"text",label:"City",placeholder:"San Francisco"},{name:"addressRegion",type:"text",label:"State/Region",placeholder:"CA"},{name:"postalCode",type:"text",label:"Postal Code",placeholder:"94102"},{name:"addressCountry",type:"text",label:"Country",placeholder:"US"}],w=[{name:"@type",type:"hidden",value:"GeoCoordinates"},{name:"latitude",type:"number",label:"Latitude",placeholder:"37.7749"},{name:"longitude",type:"number",label:"Longitude",placeholder:"-122.4194"}],U=[{name:"@type",type:"hidden",value:"OpeningHoursSpecification"},{name:"dayOfWeek",type:"select",label:"Day",options:[{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"},{value:"Sunday",label:"Sunday"}]},{name:"opens",type:"text",label:"Opens",placeholder:"09:00"},{name:"closes",type:"text",label:"Closes",placeholder:"17:00"}],O=[{name:"@type",type:"hidden",value:"MonetaryAmount"},{name:"currency",type:"text",label:"Currency",placeholder:"USD"},{name:"value",type:"number",label:"Value",placeholder:"99.99"}],u=[{name:"@type",type:"hidden",value:"AggregateRating"},{name:"ratingValue",type:"number",label:"Rating Value",placeholder:"4.5"},{name:"bestRating",type:"number",label:"Best Rating",placeholder:"5"},{name:"worstRating",type:"number",label:"Worst Rating",placeholder:"1"},{name:"ratingCount",type:"number",label:"Rating Count",placeholder:"100"}],y=[{type:"Organization",label:"Organization",description:"A general organization (company, NGO, club, etc.)",category:"organization",fields:[{name:"@type",type:"hidden",value:"Organization"},{name:"name",type:"text",label:"Organization Name",required:!0,placeholder:"Acme Corporation"},{name:"url",type:"url",label:"Website URL",placeholder:"https://example.com"},{name:"logo",type:"url",label:"Logo URL",placeholder:"https://example.com/logo.png"},{name:"description",type:"textarea",label:"Description",placeholder:"A brief description of the organization"},{name:"email",type:"email",label:"Email",placeholder:"contact@example.com"},{name:"telephone",type:"tel",label:"Phone",placeholder:"+1-555-123-4567"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m},{name:"sameAs",type:"array",label:"Social Profiles",itemType:"url",help:"URLs to social media profiles"}]},{type:"LocalBusiness",label:"Local Business",description:"A local business with physical location",category:"organization",fields:[{name:"@type",type:"hidden",value:"LocalBusiness"},{name:"name",type:"text",label:"Business Name",required:!0,placeholder:"Joe's Coffee Shop"},{name:"url",type:"url",label:"Website URL",placeholder:"https://joescoffee.com"},{name:"image",type:"url",label:"Image URL",placeholder:"https://example.com/storefront.jpg"},{name:"description",type:"textarea",label:"Description"},{name:"telephone",type:"tel",label:"Phone",placeholder:"+1-555-123-4567"},{name:"priceRange",type:"text",label:"Price Range",placeholder:"$$",help:"e.g., $, $$, $$$"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m},{name:"geo",type:"nested",label:"Coordinates",schema:"GeoCoordinates",fields:w},{name:"openingHoursSpecification",type:"array",label:"Opening Hours",itemType:"nested",schema:"OpeningHoursSpecification",fields:U}]},{type:"Restaurant",label:"Restaurant",description:"A restaurant or food establishment",category:"organization",fields:[{name:"@type",type:"hidden",value:"Restaurant"},{name:"name",type:"text",label:"Restaurant Name",required:!0},{name:"url",type:"url",label:"Website URL"},{name:"image",type:"url",label:"Image URL"},{name:"description",type:"textarea",label:"Description"},{name:"telephone",type:"tel",label:"Phone"},{name:"servesCuisine",type:"text",label:"Cuisine Type",placeholder:"Italian, Mexican, Chinese"},{name:"priceRange",type:"text",label:"Price Range",placeholder:"$$"},{name:"acceptsReservations",type:"boolean",label:"Accepts Reservations"},{name:"menu",type:"url",label:"Menu URL"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"Corporation",label:"Corporation",description:"A business corporation",category:"organization",fields:[{name:"@type",type:"hidden",value:"Corporation"},{name:"name",type:"text",label:"Corporation Name",required:!0},{name:"legalName",type:"text",label:"Legal Name"},{name:"url",type:"url",label:"Website URL"},{name:"logo",type:"url",label:"Logo URL"},{name:"description",type:"textarea",label:"Description"},{name:"foundingDate",type:"date",label:"Founding Date"},{name:"tickerSymbol",type:"text",label:"Stock Ticker",placeholder:"NASDAQ: ACME"},{name:"address",type:"nested",label:"Headquarters",schema:"PostalAddress",fields:m},{name:"sameAs",type:"array",label:"Social Profiles",itemType:"url"}]},{type:"NGO",label:"NGO / Non-Profit",description:"A non-governmental organization",category:"organization",fields:[{name:"@type",type:"hidden",value:"NGO"},{name:"name",type:"text",label:"Organization Name",required:!0},{name:"url",type:"url",label:"Website URL"},{name:"logo",type:"url",label:"Logo URL"},{name:"description",type:"textarea",label:"Mission Statement"},{name:"foundingDate",type:"date",label:"Founded"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m}]},{type:"Person",label:"Person",description:"An individual person",category:"person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Full Name",required:!0},{name:"givenName",type:"text",label:"First Name"},{name:"familyName",type:"text",label:"Last Name"},{name:"jobTitle",type:"text",label:"Job Title"},{name:"url",type:"url",label:"Website/Profile URL"},{name:"image",type:"url",label:"Photo URL"},{name:"email",type:"email",label:"Email"},{name:"telephone",type:"tel",label:"Phone"},{name:"description",type:"textarea",label:"Bio"},{name:"sameAs",type:"array",label:"Social Profiles",itemType:"url"}]},{type:"ProfilePage",label:"Profile Page",description:"A page representing a person's profile",category:"person",fields:[{name:"@type",type:"hidden",value:"ProfilePage"},{name:"name",type:"text",label:"Page Title",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"mainEntity",type:"nested",label:"Person",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Name",required:!0},{name:"jobTitle",type:"text",label:"Job Title"},{name:"image",type:"url",label:"Photo URL"}]}]},{type:"WebSite",label:"Website",description:"A complete website",category:"web",fields:[{name:"@type",type:"hidden",value:"WebSite"},{name:"name",type:"text",label:"Site Name",required:!0},{name:"url",type:"url",label:"Site URL",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"inLanguage",type:"text",label:"Language",placeholder:"en-US"},{name:"potentialAction",type:"nested",label:"Search Action",schema:"SearchAction",fields:[{name:"@type",type:"hidden",value:"SearchAction"},{name:"target",type:"url",label:"Search URL Template",placeholder:"https://example.com/search?q={search_term_string}",help:"Use {search_term_string} as placeholder"},{name:"query-input",type:"text",label:"Query Input",value:"required name=search_term_string"}]}]},{type:"WebPage",label:"Web Page",description:"A single web page",category:"web",fields:[{name:"@type",type:"hidden",value:"WebPage"},{name:"name",type:"text",label:"Page Title",required:!0},{name:"url",type:"url",label:"Page URL"},{name:"description",type:"textarea",label:"Description"},{name:"datePublished",type:"date",label:"Date Published"},{name:"dateModified",type:"date",label:"Date Modified"},{name:"inLanguage",type:"text",label:"Language",placeholder:"en-US"}]},{type:"AboutPage",label:"About Page",description:"An about page",category:"web",fields:[{name:"@type",type:"hidden",value:"AboutPage"},{name:"name",type:"text",label:"Page Title",required:!0},{name:"url",type:"url",label:"Page URL"},{name:"description",type:"textarea",label:"Description"}]},{type:"ContactPage",label:"Contact Page",description:"A contact page",category:"web",fields:[{name:"@type",type:"hidden",value:"ContactPage"},{name:"name",type:"text",label:"Page Title",required:!0},{name:"url",type:"url",label:"Page URL"},{name:"description",type:"textarea",label:"Description"}]},{type:"Article",label:"Article",description:"A general article",category:"content",fields:[{name:"@type",type:"hidden",value:"Article"},{name:"headline",type:"text",label:"Headline",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Featured Image URL"},{name:"datePublished",type:"datetime",label:"Date Published"},{name:"dateModified",type:"datetime",label:"Date Modified"},{name:"author",type:"nested",label:"Author",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Author Name",required:!0},{name:"url",type:"url",label:"Author URL"}]},{name:"publisher",type:"nested",label:"Publisher",schema:"Organization",fields:[{name:"@type",type:"hidden",value:"Organization"},{name:"name",type:"text",label:"Publisher Name",required:!0},{name:"logo",type:"url",label:"Logo URL"}]}]},{type:"NewsArticle",label:"News Article",description:"A news article",category:"content",fields:[{name:"@type",type:"hidden",value:"NewsArticle"},{name:"headline",type:"text",label:"Headline",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Featured Image URL"},{name:"datePublished",type:"datetime",label:"Date Published"},{name:"dateModified",type:"datetime",label:"Date Modified"},{name:"dateline",type:"text",label:"Dateline",placeholder:"NEW YORK"},{name:"author",type:"nested",label:"Author",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Author Name",required:!0}]},{name:"publisher",type:"nested",label:"Publisher",schema:"Organization",fields:[{name:"@type",type:"hidden",value:"Organization"},{name:"name",type:"text",label:"Publisher Name",required:!0},{name:"logo",type:"url",label:"Logo URL"}]}]},{type:"BlogPosting",label:"Blog Post",description:"A blog post or blog article",category:"content",fields:[{name:"@type",type:"hidden",value:"BlogPosting"},{name:"headline",type:"text",label:"Title",required:!0},{name:"description",type:"textarea",label:"Excerpt"},{name:"image",type:"url",label:"Featured Image URL"},{name:"datePublished",type:"datetime",label:"Date Published"},{name:"dateModified",type:"datetime",label:"Date Modified"},{name:"wordCount",type:"number",label:"Word Count"},{name:"author",type:"nested",label:"Author",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Author Name",required:!0},{name:"url",type:"url",label:"Author URL"}]}]},{type:"TechArticle",label:"Technical Article",description:"A technical or how-to article",category:"content",fields:[{name:"@type",type:"hidden",value:"TechArticle"},{name:"headline",type:"text",label:"Title",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"proficiencyLevel",type:"select",label:"Difficulty Level",options:[{value:"Beginner",label:"Beginner"},{value:"Intermediate",label:"Intermediate"},{value:"Expert",label:"Expert"}]},{name:"datePublished",type:"datetime",label:"Date Published"},{name:"author",type:"nested",label:"Author",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Author Name",required:!0}]}]},{type:"Product",label:"Product",description:"A product for sale",category:"commerce",fields:[{name:"@type",type:"hidden",value:"Product"},{name:"name",type:"text",label:"Product Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Product Image URL"},{name:"sku",type:"text",label:"SKU"},{name:"mpn",type:"text",label:"MPN (Manufacturer Part Number)"},{name:"gtin",type:"text",label:"GTIN/UPC/EAN"},{name:"brand",type:"nested",label:"Brand",schema:"Brand",fields:[{name:"@type",type:"hidden",value:"Brand"},{name:"name",type:"text",label:"Brand Name",required:!0}]},{name:"offers",type:"nested",label:"Offer",schema:"Offer",fields:[{name:"@type",type:"hidden",value:"Offer"},{name:"price",type:"number",label:"Price",required:!0},{name:"priceCurrency",type:"text",label:"Currency",placeholder:"USD"},{name:"availability",type:"select",label:"Availability",options:[{value:"https://schema.org/InStock",label:"In Stock"},{value:"https://schema.org/OutOfStock",label:"Out of Stock"},{value:"https://schema.org/PreOrder",label:"Pre-Order"},{value:"https://schema.org/LimitedAvailability",label:"Limited Availability"}]},{name:"url",type:"url",label:"Product URL"},{name:"priceValidUntil",type:"date",label:"Price Valid Until"}]},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"Review",label:"Review",description:"A review of an item",category:"commerce",fields:[{name:"@type",type:"hidden",value:"Review"},{name:"name",type:"text",label:"Review Title"},{name:"reviewBody",type:"textarea",label:"Review Text",required:!0},{name:"datePublished",type:"date",label:"Date Published"},{name:"author",type:"nested",label:"Reviewer",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Reviewer Name",required:!0}]},{name:"reviewRating",type:"nested",label:"Rating",schema:"Rating",fields:[{name:"@type",type:"hidden",value:"Rating"},{name:"ratingValue",type:"number",label:"Rating",required:!0},{name:"bestRating",type:"number",label:"Best Rating",value:"5"},{name:"worstRating",type:"number",label:"Worst Rating",value:"1"}]}]},{type:"Event",label:"Event",description:"A general event",category:"event",fields:[{name:"@type",type:"hidden",value:"Event"},{name:"name",type:"text",label:"Event Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Event Image URL"},{name:"startDate",type:"datetime",label:"Start Date/Time",required:!0},{name:"endDate",type:"datetime",label:"End Date/Time"},{name:"eventStatus",type:"select",label:"Status",options:[{value:"https://schema.org/EventScheduled",label:"Scheduled"},{value:"https://schema.org/EventCancelled",label:"Cancelled"},{value:"https://schema.org/EventPostponed",label:"Postponed"},{value:"https://schema.org/EventRescheduled",label:"Rescheduled"}]},{name:"eventAttendanceMode",type:"select",label:"Attendance Mode",options:[{value:"https://schema.org/OfflineEventAttendanceMode",label:"In-Person"},{value:"https://schema.org/OnlineEventAttendanceMode",label:"Online"},{value:"https://schema.org/MixedEventAttendanceMode",label:"Hybrid"}]},{name:"location",type:"nested",label:"Location",schema:"Place",fields:[{name:"@type",type:"hidden",value:"Place"},{name:"name",type:"text",label:"Venue Name"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m}]},{name:"organizer",type:"nested",label:"Organizer",schema:"Organization",fields:[{name:"@type",type:"hidden",value:"Organization"},{name:"name",type:"text",label:"Organizer Name"},{name:"url",type:"url",label:"Organizer URL"}]},{name:"offers",type:"nested",label:"Tickets",schema:"Offer",fields:[{name:"@type",type:"hidden",value:"Offer"},{name:"price",type:"number",label:"Price"},{name:"priceCurrency",type:"text",label:"Currency",placeholder:"USD"},{name:"url",type:"url",label:"Ticket URL"},{name:"availability",type:"select",label:"Availability",options:[{value:"https://schema.org/InStock",label:"Available"},{value:"https://schema.org/SoldOut",label:"Sold Out"},{value:"https://schema.org/PreOrder",label:"Pre-Sale"}]}]}]},{type:"BusinessEvent",label:"Business Event",description:"A business event like a conference",category:"event",fields:[{name:"@type",type:"hidden",value:"BusinessEvent"},{name:"name",type:"text",label:"Event Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"startDate",type:"datetime",label:"Start Date/Time",required:!0},{name:"endDate",type:"datetime",label:"End Date/Time"},{name:"location",type:"nested",label:"Location",schema:"Place",fields:[{name:"@type",type:"hidden",value:"Place"},{name:"name",type:"text",label:"Venue Name"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m}]}]},{type:"Service",label:"Service",description:"A service offered by a business",category:"service",fields:[{name:"@type",type:"hidden",value:"Service"},{name:"name",type:"text",label:"Service Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"serviceType",type:"text",label:"Service Type"},{name:"provider",type:"nested",label:"Provider",schema:"Organization",fields:[{name:"@type",type:"hidden",value:"Organization"},{name:"name",type:"text",label:"Provider Name",required:!0}]},{name:"areaServed",type:"text",label:"Area Served",placeholder:"San Francisco Bay Area"},{name:"offers",type:"nested",label:"Pricing",schema:"Offer",fields:[{name:"@type",type:"hidden",value:"Offer"},{name:"price",type:"number",label:"Starting Price"},{name:"priceCurrency",type:"text",label:"Currency",placeholder:"USD"}]}]},{type:"ProfessionalService",label:"Professional Service",description:"A professional service (lawyer, accountant, etc.)",category:"service",fields:[{name:"@type",type:"hidden",value:"ProfessionalService"},{name:"name",type:"text",label:"Business Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"url",type:"url",label:"Website URL"},{name:"telephone",type:"tel",label:"Phone"},{name:"priceRange",type:"text",label:"Price Range",placeholder:"$$$"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m}]},{type:"BreadcrumbList",label:"Breadcrumb",description:"Navigation breadcrumbs",category:"navigation",fields:[{name:"@type",type:"hidden",value:"BreadcrumbList"},{name:"itemListElement",type:"array",label:"Breadcrumb Items",itemType:"nested",schema:"ListItem",fields:[{name:"@type",type:"hidden",value:"ListItem"},{name:"position",type:"number",label:"Position",required:!0},{name:"name",type:"text",label:"Name",required:!0},{name:"item",type:"url",label:"URL"}]}]},{type:"ItemList",label:"Item List",description:"A list of items (e.g., top 10 list)",category:"navigation",fields:[{name:"@type",type:"hidden",value:"ItemList"},{name:"name",type:"text",label:"List Name"},{name:"description",type:"textarea",label:"Description"},{name:"numberOfItems",type:"number",label:"Number of Items"},{name:"itemListOrder",type:"select",label:"Order",options:[{value:"https://schema.org/ItemListOrderAscending",label:"Ascending"},{value:"https://schema.org/ItemListOrderDescending",label:"Descending"},{value:"https://schema.org/ItemListUnordered",label:"Unordered"}]}]},{type:"SiteNavigationElement",label:"Site Navigation",description:"Website navigation element",category:"navigation",fields:[{name:"@type",type:"hidden",value:"SiteNavigationElement"},{name:"name",type:"text",label:"Navigation Name",required:!0},{name:"url",type:"url",label:"URL"}]},{type:"HowTo",label:"How-To Guide",description:"Step-by-step instructions",category:"howto",fields:[{name:"@type",type:"hidden",value:"HowTo"},{name:"name",type:"text",label:"Title",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Image URL"},{name:"totalTime",type:"text",label:"Total Time",placeholder:"PT30M (30 minutes)"},{name:"estimatedCost",type:"nested",label:"Estimated Cost",schema:"MonetaryAmount",fields:O},{name:"step",type:"array",label:"Steps",itemType:"nested",schema:"HowToStep",fields:[{name:"@type",type:"hidden",value:"HowToStep"},{name:"name",type:"text",label:"Step Title"},{name:"text",type:"textarea",label:"Instructions",required:!0},{name:"image",type:"url",label:"Step Image URL"}]}]},{type:"Recipe",label:"Recipe",description:"A cooking recipe",category:"howto",fields:[{name:"@type",type:"hidden",value:"Recipe"},{name:"name",type:"text",label:"Recipe Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Recipe Image URL"},{name:"prepTime",type:"text",label:"Prep Time",placeholder:"PT15M"},{name:"cookTime",type:"text",label:"Cook Time",placeholder:"PT30M"},{name:"totalTime",type:"text",label:"Total Time",placeholder:"PT45M"},{name:"recipeYield",type:"text",label:"Yield",placeholder:"4 servings"},{name:"recipeCategory",type:"text",label:"Category",placeholder:"Dinner, Dessert"},{name:"recipeCuisine",type:"text",label:"Cuisine",placeholder:"Italian"},{name:"recipeIngredient",type:"array",label:"Ingredients",itemType:"text"},{name:"recipeInstructions",type:"array",label:"Instructions",itemType:"nested",schema:"HowToStep",fields:[{name:"@type",type:"hidden",value:"HowToStep"},{name:"text",type:"textarea",label:"Step",required:!0}]},{name:"nutrition",type:"nested",label:"Nutrition",schema:"NutritionInformation",fields:[{name:"@type",type:"hidden",value:"NutritionInformation"},{name:"calories",type:"text",label:"Calories",placeholder:"250 calories"},{name:"servingSize",type:"text",label:"Serving Size",placeholder:"1 cup"}]},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"VideoObject",label:"Video",description:"A video file",category:"media",fields:[{name:"@type",type:"hidden",value:"VideoObject"},{name:"name",type:"text",label:"Video Title",required:!0},{name:"description",type:"textarea",label:"Description",required:!0},{name:"thumbnailUrl",type:"url",label:"Thumbnail URL",required:!0},{name:"uploadDate",type:"date",label:"Upload Date",required:!0},{name:"duration",type:"text",label:"Duration",placeholder:"PT1H30M (1 hour 30 min)"},{name:"contentUrl",type:"url",label:"Video URL"},{name:"embedUrl",type:"url",label:"Embed URL"}]},{type:"ImageObject",label:"Image",description:"An image file",category:"media",fields:[{name:"@type",type:"hidden",value:"ImageObject"},{name:"name",type:"text",label:"Image Name"},{name:"contentUrl",type:"url",label:"Image URL",required:!0},{name:"caption",type:"text",label:"Caption"},{name:"width",type:"number",label:"Width (px)"},{name:"height",type:"number",label:"Height (px)"},{name:"author",type:"text",label:"Photographer/Author"}]},{type:"SoftwareApplication",label:"Software Application",description:"A software application",category:"software",fields:[{name:"@type",type:"hidden",value:"SoftwareApplication"},{name:"name",type:"text",label:"App Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"applicationCategory",type:"select",label:"Category",options:[{value:"BusinessApplication",label:"Business"},{value:"GameApplication",label:"Game"},{value:"LifestyleApplication",label:"Lifestyle"},{value:"MultimediaApplication",label:"Multimedia"},{value:"SocialNetworkingApplication",label:"Social"},{value:"UtilitiesApplication",label:"Utilities"}]},{name:"operatingSystem",type:"text",label:"Operating System",placeholder:"Windows, macOS, iOS"},{name:"softwareVersion",type:"text",label:"Version"},{name:"offers",type:"nested",label:"Pricing",schema:"Offer",fields:[{name:"@type",type:"hidden",value:"Offer"},{name:"price",type:"number",label:"Price"},{name:"priceCurrency",type:"text",label:"Currency",placeholder:"USD"}]},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"MobileApplication",label:"Mobile App",description:"A mobile application",category:"software",fields:[{name:"@type",type:"hidden",value:"MobileApplication"},{name:"name",type:"text",label:"App Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"operatingSystem",type:"text",label:"Platform",placeholder:"iOS, Android"},{name:"softwareVersion",type:"text",label:"Version"},{name:"downloadUrl",type:"url",label:"Download URL"},{name:"installUrl",type:"url",label:"Install URL (App Store)"},{name:"screenshot",type:"url",label:"Screenshot URL"},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"Course",label:"Course",description:"An educational course",category:"education",fields:[{name:"@type",type:"hidden",value:"Course"},{name:"name",type:"text",label:"Course Title",required:!0},{name:"description",type:"textarea",label:"Description",required:!0},{name:"provider",type:"nested",label:"Provider",schema:"Organization",fields:[{name:"@type",type:"hidden",value:"Organization"},{name:"name",type:"text",label:"Provider Name",required:!0},{name:"url",type:"url",label:"Provider URL"}]},{name:"hasCourseInstance",type:"nested",label:"Course Instance",schema:"CourseInstance",fields:[{name:"@type",type:"hidden",value:"CourseInstance"},{name:"courseMode",type:"select",label:"Mode",options:[{value:"online",label:"Online"},{value:"onsite",label:"On-site"},{value:"blended",label:"Blended"}]},{name:"startDate",type:"date",label:"Start Date"},{name:"endDate",type:"date",label:"End Date"}]},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"JobPosting",label:"Job Posting",description:"A job listing",category:"jobs",fields:[{name:"@type",type:"hidden",value:"JobPosting"},{name:"title",type:"text",label:"Job Title",required:!0},{name:"description",type:"textarea",label:"Job Description",required:!0},{name:"datePosted",type:"date",label:"Date Posted",required:!0},{name:"validThrough",type:"date",label:"Valid Through"},{name:"employmentType",type:"select",label:"Employment Type",options:[{value:"FULL_TIME",label:"Full-time"},{value:"PART_TIME",label:"Part-time"},{value:"CONTRACT",label:"Contract"},{value:"TEMPORARY",label:"Temporary"},{value:"INTERN",label:"Internship"}]},{name:"hiringOrganization",type:"nested",label:"Company",schema:"Organization",fields:[{name:"@type",type:"hidden",value:"Organization"},{name:"name",type:"text",label:"Company Name",required:!0},{name:"url",type:"url",label:"Company Website"},{name:"logo",type:"url",label:"Logo URL"}]},{name:"jobLocation",type:"nested",label:"Location",schema:"Place",fields:[{name:"@type",type:"hidden",value:"Place"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m}]},{name:"baseSalary",type:"nested",label:"Salary",schema:"MonetaryAmount",fields:[{name:"@type",type:"hidden",value:"MonetaryAmount"},{name:"currency",type:"text",label:"Currency",placeholder:"USD"},{name:"value",type:"nested",label:"Value",schema:"QuantitativeValue",fields:[{name:"@type",type:"hidden",value:"QuantitativeValue"},{name:"minValue",type:"number",label:"Min Salary"},{name:"maxValue",type:"number",label:"Max Salary"},{name:"unitText",type:"select",label:"Period",options:[{value:"YEAR",label:"Per Year"},{value:"MONTH",label:"Per Month"},{value:"HOUR",label:"Per Hour"}]}]}]}]},{type:"Place",label:"Place",description:"A physical location",category:"place",fields:[{name:"@type",type:"hidden",value:"Place"},{name:"name",type:"text",label:"Place Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Image URL"},{name:"telephone",type:"tel",label:"Phone"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m},{name:"geo",type:"nested",label:"Coordinates",schema:"GeoCoordinates",fields:w}]},{type:"Hotel",label:"Hotel",description:"A hotel or accommodation",category:"place",fields:[{name:"@type",type:"hidden",value:"Hotel"},{name:"name",type:"text",label:"Hotel Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Image URL"},{name:"starRating",type:"number",label:"Star Rating",placeholder:"1-5"},{name:"priceRange",type:"text",label:"Price Range",placeholder:"$$$"},{name:"telephone",type:"tel",label:"Phone"},{name:"address",type:"nested",label:"Address",schema:"PostalAddress",fields:m},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"Book",label:"Book",description:"A book publication",category:"creative",fields:[{name:"@type",type:"hidden",value:"Book"},{name:"name",type:"text",label:"Book Title",required:!0},{name:"author",type:"nested",label:"Author",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Author Name",required:!0}]},{name:"isbn",type:"text",label:"ISBN"},{name:"datePublished",type:"date",label:"Publication Date"},{name:"numberOfPages",type:"number",label:"Number of Pages"},{name:"bookFormat",type:"select",label:"Format",options:[{value:"https://schema.org/Hardcover",label:"Hardcover"},{value:"https://schema.org/Paperback",label:"Paperback"},{value:"https://schema.org/EBook",label:"E-Book"},{value:"https://schema.org/AudiobookFormat",label:"Audiobook"}]},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"Movie",label:"Movie",description:"A movie or film",category:"creative",fields:[{name:"@type",type:"hidden",value:"Movie"},{name:"name",type:"text",label:"Movie Title",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Poster URL"},{name:"datePublished",type:"date",label:"Release Date"},{name:"duration",type:"text",label:"Duration",placeholder:"PT2H30M"},{name:"director",type:"nested",label:"Director",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Director Name",required:!0}]},{name:"aggregateRating",type:"nested",label:"Rating",schema:"AggregateRating",fields:u}]},{type:"Podcast",label:"Podcast",description:"A podcast series",category:"creative",fields:[{name:"@type",type:"hidden",value:"PodcastSeries"},{name:"name",type:"text",label:"Podcast Name",required:!0},{name:"description",type:"textarea",label:"Description"},{name:"image",type:"url",label:"Cover Art URL"},{name:"url",type:"url",label:"Podcast URL"},{name:"author",type:"nested",label:"Host",schema:"Person",fields:[{name:"@type",type:"hidden",value:"Person"},{name:"name",type:"text",label:"Host Name",required:!0}]}]},{type:"FAQPage",label:"FAQ Page",description:"A page of frequently asked questions",category:"faq",fields:[{name:"@type",type:"hidden",value:"FAQPage"},{name:"mainEntity",type:"array",label:"Questions",itemType:"nested",schema:"Question",fields:[{name:"@type",type:"hidden",value:"Question"},{name:"name",type:"text",label:"Question",required:!0},{name:"acceptedAnswer",type:"nested",label:"Answer",schema:"Answer",fields:[{name:"@type",type:"hidden",value:"Answer"},{name:"text",type:"textarea",label:"Answer Text",required:!0}]}]}]}];function D(){const d={};return y.forEach(e=>{d[e.category]||(d[e.category]=[]),d[e.category].push(e)}),d}function R(d){return y.find(e=>e.type===d)}function M(d){return y.filter(e=>e.category===d).map(e=>e.type)}function F(d,e){const t={"@context":"https://schema.org","@type":d,...e};return Object.keys(t).forEach(a=>{(t[a]===""||t[a]===null||t[a]===void 0)&&delete t[a],Array.isArray(t[a])&&t[a].length===0&&delete t[a]}),t}const N={SCHEMA_CATEGORIES:$,SCHEMA_TYPES:y,getSchemasByCategory:D,getSchemaType:R,getSchemasForCategory:M,buildJsonLd:F};function z(d,e="info"){const t={success:"linear-gradient(135deg, #10b981 0%, #059669 100%)",error:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",warning:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",info:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"};typeof Toastify=="function"?Toastify({text:d,duration:4e3,gravity:"top",position:"right",stopOnFocus:!0,style:{background:t[e]||t.info,borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}}).showToast():console.log(`[${e.toUpperCase()}] ${d}`)}function q(){const d=document.cookie.match(/auth_token=([^;]+)/);return d?d[1]:null}function P(){const d=window.BASE_URL||"",e=new B({baseUrl:d,showToast:z,getAuthToken:q,tabButtons:document.querySelectorAll(".theme-tabs__tab"),tabPanels:document.querySelectorAll(".theme-panel"),logoSelector:document.getElementById("logoSelector"),logoPreview:document.getElementById("logoPreview"),logoPlaceholder:document.getElementById("logoPlaceholder"),faviconSelector:document.getElementById("faviconSelector"),faviconPreview:document.getElementById("faviconPreview"),faviconPlaceholder:document.getElementById("faviconPlaceholder"),lightColorsContainer:document.getElementById("lightColors"),darkColorsContainer:document.getElementById("darkColors"),typographyContainer:document.getElementById("typographyPickers"),spacingContainer:document.getElementById("spacingPickers"),borderRadiusContainer:document.getElementById("borderRadiusPickers"),themeModeToggle:document.querySelector(".theme-mode-toggle"),buildBtn:null,buildOverlay:document.getElementById("buildOverlay"),buildStatus:document.getElementById("buildStatus"),buildProgress:document.getElementById("buildProgress"),imageModal:document.getElementById("imageModal"),imageModalTitle:document.getElementById("imageModalTitle"),imageGrid:document.getElementById("imageGrid"),imageFileInput:document.getElementById("imageFileInput"),removeImageBtn:document.getElementById("removeImageBtn"),schemaModal:document.getElementById("schemaModal"),schemaModalTitle:document.getElementById("schemaModalTitle"),schemaTypeSelect:document.getElementById("schemaTypeSelect"),schemaTypeDescription:document.getElementById("schemaTypeDescription"),schemaFields:document.getElementById("schemaFields"),schemaPreview:document.getElementById("schemaPreview"),schemaPreviewCode:document.getElementById("schemaPreviewCode"),saveSchemaBtn:document.getElementById("saveSchemaBtn"),togglePreviewBtn:document.getElementById("togglePreviewBtn"),addSchemaBtn:document.getElementById("addSchemaBtn"),schemasList:document.getElementById("schemasList"),schemasEmpty:document.getElementById("schemasEmpty"),ColorPicker:k,SizePicker:L,ImageSelector:A,SchemaDefinitions:N});window.themeConfig=e}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",P):P()})();
