{"version":3,"file":"app.js","sources":["../../../frontend/pages/OAUTH_APPLICATIONS/src/OAuthApplicationsPage.js","../../../frontend/pages/OAUTH_APPLICATIONS/src/main.js"],"sourcesContent":["/**\n * OAuth Applications Page Manager\n *\n * Handles creating, editing, and managing OAuth 2.0 applications.\n */\n\nexport default class OAuthApplicationsPage {\n    constructor() {\n        this.form = null;\n        this.appsList = null;\n        this.loadingMessage = null;\n    }\n\n    /**\n     * Initialize the page\n     */\n    init() {\n        this.form = document.getElementById('oauthAppForm');\n        this.appsList = document.getElementById('appsListContainer');\n        this.loadingMessage = document.getElementById('appsLoadingMessage');\n\n        if (!this.form) {\n            console.error('OAuth form not found');\n            return;\n        }\n\n        this.setupEventListeners();\n        this.loadApplications();\n    }\n\n    /**\n     * Setup event listeners\n     */\n    setupEventListeners() {\n        this.form.addEventListener('submit', (e) => this.handleSubmit(e));\n    }\n\n    /**\n     * Load applications list\n     */\n    async loadApplications() {\n        try {\n            const response = await fetch(`${window.BASE_URL}/api/oauth/applications`, {\n                credentials: 'include'\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to load applications');\n            }\n\n            const data = await response.json();\n\n            if (this.loadingMessage) {\n                this.loadingMessage.textContent = data.applications && data.applications.length > 0\n                    ? `You have ${data.applications.length} application(s)`\n                    : 'No applications yet. Create your first one above.';\n            }\n\n            // TODO: Render applications list when API returns data\n            console.log('Applications loaded:', data);\n        } catch (error) {\n            console.error('Error loading applications:', error);\n            if (this.loadingMessage) {\n                this.loadingMessage.textContent = 'Failed to load applications. Please try again.';\n            }\n        }\n    }\n\n    /**\n     * Handle form submission\n     */\n    async handleSubmit(event) {\n        event.preventDefault();\n\n        // Clear previous errors\n        this.clearErrors();\n\n        // Get form data\n        const formData = new FormData(this.form);\n        const data = {\n            client_name: formData.get('client_name'),\n            description: formData.get('description') || null,\n            client_type: formData.get('client_type'),\n            homepage_url: formData.get('homepage_url') || null,\n            privacy_policy_url: formData.get('privacy_policy_url') || null,\n            terms_of_service_url: formData.get('terms_of_service_url') || null,\n        };\n\n        // Basic validation\n        if (!data.client_name || !data.client_type) {\n            this.showError('appName', 'Application name and client type are required');\n            return;\n        }\n\n        // Disable submit button\n        const submitBtn = document.getElementById('saveOAuthAppBtn');\n        submitBtn.disabled = true;\n        submitBtn.querySelector('.btn__text').textContent = 'Creating...';\n\n        try {\n            const response = await fetch(`${window.BASE_URL}/api/oauth/applications`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(data),\n                credentials: 'include'\n            });\n\n            const result = await response.json();\n\n            if (!response.ok) {\n                // Handle validation errors\n                if (result.errors) {\n                    this.showValidationErrors(result.errors);\n                } else {\n                    throw new Error(result.message || 'Failed to create application');\n                }\n                return;\n            }\n\n            // Success!\n            alert('OAuth application created successfully!');\n            this.form.reset();\n            this.loadApplications(); // Reload list\n\n        } catch (error) {\n            console.error('Error creating OAuth application:', error);\n            alert('Failed to create application. Please try again.');\n        } finally {\n            // Re-enable submit button\n            submitBtn.disabled = false;\n            submitBtn.querySelector('.btn__text').textContent = 'Create Application';\n        }\n    }\n\n    /**\n     * Show validation errors\n     */\n    showValidationErrors(errors) {\n        Object.keys(errors).forEach(field => {\n            const errorElement = document.getElementById(`${field}Error`);\n            if (errorElement) {\n                errorElement.textContent = errors[field];\n            }\n        });\n    }\n\n    /**\n     * Show error for a specific field\n     */\n    showError(field, message) {\n        const errorElement = document.getElementById(`${field}Error`);\n        if (errorElement) {\n            errorElement.textContent = message;\n        }\n    }\n\n    /**\n     * Clear all error messages\n     */\n    clearErrors() {\n        const errorElements = this.form.querySelectorAll('.form__error');\n        errorElements.forEach(el => {\n            el.textContent = '';\n        });\n    }\n}\n","/**\n * OAuth Applications Page\n *\n * Entry point for OAuth 2.0 application management page.\n * Handles creating, editing, and managing OAuth applications.\n */\n\nimport './styles/main.scss';\nimport OAuthApplicationsPage from './OAuthApplicationsPage.js';\n\n// Initialize OAuth Applications page\ndocument.addEventListener('DOMContentLoaded', () => {\n    const page = new OAuthApplicationsPage();\n    page.init();\n});\n"],"names":[],"mappings":"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"}