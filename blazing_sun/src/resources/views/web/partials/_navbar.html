{# Navigation Bar Partial Template #}
{# Include this in any page with: {% include "partials/_navbar.html" %} #}

<nav class="navbar" role="navigation" aria-label="Main navigation">
    <a href="{{ route(name='web.home', lang=language) | default(value='/') }}" class="navbar__logo" aria-label="{{ site_name | default(value='Blazing Sun') }} - Go to homepage">
        {% if logo_url %}
        <img src="{{ logo_url }}" alt="{{ site_name | default(value='Blazing Sun') }} logo" class="navbar__logo-image">
        {% else %}
        <svg class="navbar__logo-icon" width="36" height="36" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <defs>
                <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" stop-color="#667eea"/>
                    <stop offset="100%" stop-color="#764ba2"/>
                </linearGradient>
            </defs>
            <circle cx="24" cy="24" r="23" fill="url(#logoGradient)"/>
            {# M letter path #}
            <path d="M10 34 L10 14 L17 26 L24 14 L24 34 L21 34 L21 22 L17 30 L13 22 L13 34 Z" fill="#ffffff"/>
            {# F letter path #}
            <path d="M27 34 L27 14 L38 14 L38 17 L30 17 L30 22 L36 22 L36 25 L30 25 L30 34 Z" fill="#ffffff"/>
        </svg>
        {% endif %}
        <span class="navbar__logo-text"{% if not show_site_name | default(value=true) %} style="display: none;"{% endif %}>{{ site_name | default(value='Blazing Sun') }}</span>
    </a>

    <div class="navbar__right">
        <div class="navbar__links">
            {% if is_logged %}
            <a href="{{ route(name='web.geo_galleries', lang=language) | default(value='/geo_galleries') }}" class="navbar__link">Geo Galleries</a>
            <a href="{{ route(name='web.competitions', lang=language) | default(value='/competitions') }}" class="navbar__link">Competitions</a>
            <a href="{{ route(name='web.profile', lang=language) | default(value='/profile') }}" class="navbar__link">Profile</a>
            <a href="{{ route(name='web.balance', lang=language) | default(value='/balance') }}" class="navbar__link">Balance</a>
            <a href="{{ route(name='web.galleries', lang=language) | default(value='/galleries') }}" class="navbar__link">Galleries</a>
            <a href="{{ route(name='web.games', lang=language) | default(value='/games') }}" class="navbar__link">Games</a>
            {% if is_admin %}
            <a href="{{ route(name='admin.uploads', lang=language) | default(value='/admin/uploads') }}" class="navbar__link">Uploads</a>
            <a href="{{ route(name='admin.theme', lang=language) | default(value='/admin/theme') }}" class="navbar__link">Theme</a>
            {% endif %}
            {% if is_super_admin %}
            <a href="{{ route(name='superadmin.users', lang=language) | default(value='/superadmin/users') }}" class="navbar__link">Users</a>
            {% endif %}
            <a href="{{ route(name='web.logout', lang=language) | default(value='/logout') }}" class="navbar__link">Sign Out</a>
            {% else %}
            <a href="{{ route(name='web.sign_up', lang=language) | default(value='/sign_up') }}" class="navbar__link">Sign Up</a>
            <a href="{{ route(name='web.sign_in', lang=language) | default(value='/sign_in') }}" class="navbar__link">Sign In</a>
            {% endif %}
        </div>

        {# Language Dropdown #}
        <div id="languageDropdown" class="language-dropdown language-dropdown--compact"></div>

        <button type="button" class="theme-toggle" id="themeToggle" aria-label="Toggle theme" title="Toggle dark/light mode">
            {# Sliding indicator - moves to active icon #}
            <span class="theme-toggle__indicator" aria-hidden="true"></span>
            {# Both icons always visible #}
            <span class="theme-toggle__icons">
                {# Sun icon (left) - indicates light mode #}
                <span class="theme-toggle__icon theme-toggle__sun">
                    <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 00-1.41 0 .996.996 0 000 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 000-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 000-1.41.996.996 0 00-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"/>
                    </svg>
                </span>
                {# Moon icon (right) - indicates dark mode #}
                <span class="theme-toggle__icon theme-toggle__moon">
                    <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/>
                    </svg>
                </span>
            </span>
        </button>
    </div>
</nav>
